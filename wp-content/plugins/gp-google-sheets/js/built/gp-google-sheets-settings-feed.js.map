{"version":3,"file":"gp-google-sheets-settings-feed.js","mappings":"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","sources":["webpack:///./node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack:///./node_modules/react/jsx-runtime.js","webpack:///./js/src/helpers/feed-sections.ts","webpack:///./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","webpack:///./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","webpack:///./node_modules/use-sync-external-store/shim/index.js","webpack:///./node_modules/use-sync-external-store/shim/with-selector.js","webpack:///external window \"React\"","webpack:///external window \"jQuery\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///external window [\"wp\",\"element\"]","webpack:///external window [\"wp\",\"i18n\"]","webpack:///./js/src/components/Tooltip.tsx","webpack:///./js/src/components/settings/SettingSelect.tsx","webpack:///./node_modules/zustand/esm/vanilla.mjs","webpack:///./node_modules/zustand/esm/index.mjs","webpack:///./js/src/store/slices/notices.ts","webpack:///./js/src/store/slices/feed-settings/google-connection.ts","webpack:///./js/src/store/slices/spreadsheets.ts","webpack:///./js/src/helpers/oauth.ts","webpack:///./js/src/store/slices/google-accounts.ts","webpack:///./js/src/constants.ts","webpack:///./js/src/store/slices/feed-settings/test-rows.ts","webpack:///./js/src/store/feed-settings.ts","webpack:///./js/src/store/helpers/selectors.ts","webpack:///./js/src/components/settings-feed/InsertTestRow.tsx","webpack:///./js/src/components/settings-feed/DisconnectButton.tsx","webpack:///./js/src/components/settings-feed/ConnectedCard.tsx","webpack:///external window \"ReactDOM\"","webpack:///./js/src/components/Notices.tsx","webpack:///./js/src/components/settings/SettingSpreadsheet.tsx","webpack:///./js/src/helpers/get-spreadsheet-id-from-url.ts","webpack:///./js/src/components/settings/SettingGoogleAccount.tsx","webpack:///./js/src/components/settings-feed/GoogleSheetSettings.tsx","webpack:///external window [\"wp\",\"hooks\"]","webpack:///./js/src/settings-feed.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import $ from 'jquery';\n\nconst strings = window.gpgs_settings_strings;\n\ninterface SheetSelectedResponse {\n\tsuccess: boolean;\n\tdata: {\n\t\tcontrolsHTML: string;\n\t\tspreadsheetLinkMarkup: string;\n\t};\n}\n\nfunction disableSettingsSection(selector: string) {\n\t$(selector)\n\t\t.addClass('gpgs-disabled-settings-section')\n\t\t.attr('inert', 'true');\n}\n\nfunction enableSettingsSection(selector: string) {\n\t$(selector)\n\t\t.removeClass('gpgs-disabled-settings-section')\n\t\t.removeAttr('inert');\n}\n\nexport function disableColumnMappingSection() {\n\tdisableSettingsSection('#gform-settings-section-column-mapping');\n}\n\nexport function enableColumnMappingSection() {\n\tenableSettingsSection('#gform-settings-section-column-mapping');\n}\n\nexport function updateColumnMappingSection({\n\tsheetId,\n\tsheetName,\n\tsheetUrl,\n}: {\n\tsheetId: string;\n\tsheetName: string;\n\tsheetUrl: string;\n}) {\n\tjQuery.get(\n\t\tstrings.ajax_url,\n\t\t{\n\t\t\taction: 'gpgs_select_sheet',\n\t\t\t_ajax_nonce: strings.nonce,\n\t\t\tid: strings.form_id,\n\t\t\tfeed_id: strings.feed_id,\n\t\t\tsheet_url: sheetUrl,\n\t\t\tsheet_id: sheetId,\n\t\t\tsheet_name: sheetName,\n\t\t},\n\t\t(response: SheetSelectedResponse) => {\n\t\t\t// Extract the <script block out of the controls\n\t\t\tconst matches = response.data.controlsHTML.match(\n\t\t\t\t/<script type=\\\"text\\/javascript\\\">(.+)<\\/script>/\n\t\t\t);\n\n\t\t\tif (matches?.length) {\n\t\t\t\t// Remove the script from the markup\n\t\t\t\tconst controlsHTML = response.data.controlsHTML.replace(\n\t\t\t\t\tmatches[0],\n\t\t\t\t\t''\n\t\t\t\t);\n\n\t\t\t\t$('#gform_setting_column_mapping').html(controlsHTML);\n\n\t\t\t\tenableColumnMappingSection();\n\n\t\t\t\t// Run the initialization script for the field map field\n\t\t\t\ttry {\n\t\t\t\t\t// eslint-disable-next-line no-eval\n\t\t\t\t\teval(matches[1]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","module.exports = window[\"React\"];","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","import { useEffect } from 'react';\n\ninterface TooltipProps {\n\tcontent: string;\n}\n\nconst Tooltip: React.FC<TooltipProps> = ({ content }) => {\n\t// Run useEffect one time to run gform_initialize_tooltips() after the component mounts\n\tuseEffect(() => {\n\t\twindow.gform_initialize_tooltips();\n\t}, []);\n\n\tconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\t};\n\n\tconst handleKeyPress = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\t};\n\n\treturn (\n\t\t<button\n\t\t\tonClick={handleClick}\n\t\t\tonKeyPress={handleKeyPress}\n\t\t\tclassName=\"gf_tooltip tooltip \"\n\t\t\taria-label={content}\n\t\t>\n\t\t\t<i\n\t\t\t\tclassName=\"gform-icon gform-icon--question-mark\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></i>\n\t\t</button>\n\t);\n};\n\nexport default Tooltip;\n","import Tooltip from '../Tooltip';\nimport { __ } from '@wordpress/i18n';\n\ninterface OptionGroup {\n\ttext: string;\n\toptions: Option[];\n}\n\ninterface Option {\n\ttext: string;\n\tvalue: string;\n}\n\ninterface SettingSelectProps {\n\tlabel: string;\n\tname: string;\n\tvalue: string;\n\trequired?: boolean;\n\ttooltip?: string;\n\toptions: (OptionGroup | Option)[];\n\tplaceholder?: string;\n\tdisabled?: boolean;\n\tonChange: (value: string) => void;\n}\n\nconst SettingSelect = ({\n\tname,\n\tlabel,\n\tvalue,\n\trequired,\n\ttooltip,\n\toptions,\n\tplaceholder,\n\tdisabled,\n\tonChange,\n}: SettingSelectProps) => {\n\treturn (\n\t\t<div\n\t\t\tid={`gform_setting_${name}`}\n\t\t\tclassName=\"gform-settings-field gform-settings-field__select\"\n\t\t>\n\t\t\t<div className=\"gform-settings-field__header\">\n\t\t\t\t<label className=\"gform-settings-label\" htmlFor={name}>\n\t\t\t\t\t{label}\n\t\t\t\t\t{required && (\n\t\t\t\t\t\t<span className=\"required\">({__('Required')})</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>{' '}\n\t\t\t\t{tooltip && <Tooltip content={tooltip} />}\n\t\t\t</div>\n\t\t\t<span className=\"gform-settings-input__container\">\n\t\t\t\t<select\n\t\t\t\t\tname={`_gform_setting_${name}`}\n\t\t\t\t\trequired={required}\n\t\t\t\t\tid={name}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonChange={(e) => onChange(e.target.value)}\n\t\t\t\t>\n\t\t\t\t\t{placeholder && (\n\t\t\t\t\t\t<option value=\"\" disabled>\n\t\t\t\t\t\t\t{placeholder}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t)}\n\t\t\t\t\t{options.map((option) => {\n\t\t\t\t\t\tif ('options' in option) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<optgroup label={option.text} key={option.text}>\n\t\t\t\t\t\t\t\t\t{option.options.map((opt) => (\n\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\tvalue={opt.value}\n\t\t\t\t\t\t\t\t\t\t\tkey={opt.value}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{opt.text}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<option value={option.value} key={option.value}>\n\t\t\t\t\t\t\t\t{option.text}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</select>\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n\nexport default SettingSelect;\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport { useDebugValue } from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nfunction useStore(api, selector = api.getState, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","import { StateCreator } from 'zustand';\n\nexport interface Notice {\n\ttype: 'success' | 'error';\n\tmessage: string;\n}\n\nexport interface NoticesSlice {\n\tnotices: Notice[];\n\tclearNotices: () => void;\n\taddNotice: (notice: Notice) => void;\n\tsetNotice: (notice: Notice) => void;\n\tsetErrorNotice: (message: string) => void;\n\tsetSuccessNotice: (message: string) => void;\n}\n\nexport const createNoticesSlice: StateCreator<NoticesSlice> = (set) => ({\n\tnotices: [],\n\tclearNotices: () => set({ notices: [] }),\n\taddNotice: (notice) =>\n\t\tset((state) => ({ notices: [...state.notices, notice] })),\n\tsetNotice: (notice) => set({ notices: [notice] }),\n\tsetErrorNotice: (message) => set({ notices: [{ type: 'error', message }] }),\n\tsetSuccessNotice: (message) =>\n\t\tset({ notices: [{ type: 'success', message }] }),\n});\n","import { StateCreator } from 'zustand';\nimport { SpreadsheetsSlice } from '../spreadsheets';\nimport { NoticesSlice } from '../notices';\nimport { __, sprintf } from '@wordpress/i18n';\nconst { gpgs_settings_strings: strings } = window;\n\nexport interface GoogleConnectionSlice {\n\tisDisconnecting: boolean;\n\tconnected: boolean;\n\tgoogleAccount: string | undefined;\n\tgoogleSheetUrl: string | undefined;\n\tgoogleSpreadsheetId: string | undefined;\n\tgoogleSheetId: string | undefined;\n\tgoogleSpreadsheetName: string | undefined;\n\tgoogleSheetName: string | undefined;\n\tgoogleErrorMessage: string;\n\tdisconnectFeed: () => void;\n\tsetGoogleAccount: (account: string) => void;\n\tsetGoogleSpreadsheetId: (id: string) => void;\n\tsetGoogleSheetId: (id: string) => void;\n}\n\ninterface DisconnectResponse {\n\tsuccess: boolean;\n}\n\nexport const createGoogleConnectionSlice: StateCreator<\n\tGoogleConnectionSlice & SpreadsheetsSlice & NoticesSlice,\n\t[],\n\t[],\n\tGoogleConnectionSlice\n> = (set, get) => ({\n\tisDisconnecting: false,\n\tgoogleAccount: undefined,\n\tconnected: !!(\n\t\tdocument.querySelector('input#google_sheet_url') as HTMLInputElement\n\t)?.value,\n\tgoogleSheetUrl: (\n\t\tdocument.querySelector('input#google_sheet_url') as HTMLInputElement\n\t)?.value,\n\tgoogleSpreadsheetId: undefined,\n\tgoogleSheetId: (\n\t\tdocument.querySelector('input#google_sheet_id') as HTMLInputElement\n\t)?.value,\n\tgoogleSpreadsheetName: strings.spreadsheet_name,\n\tgoogleSheetName: strings.sheet_name,\n\tgoogleErrorMessage: strings.error_message,\n\tdisconnectFeed: async () => {\n\t\tif (get().isDisconnecting) {\n\t\t\treturn;\n\t\t}\n\n\t\tget().clearNotices();\n\n\t\tset({\n\t\t\tisDisconnecting: true,\n\t\t});\n\n\t\tconst errorMessage = __(\n\t\t\t'An error occurred while disconnecting this feed.',\n\t\t\t'gp-google-sheets'\n\t\t);\n\n\t\ttry {\n\t\t\tconst resp: DisconnectResponse = await jQuery.post(\n\t\t\t\tstrings.ajax_url,\n\t\t\t\t{\n\t\t\t\t\taction: 'gpgs_disconnect',\n\t\t\t\t\t_ajax_nonce: strings.nonce,\n\t\t\t\t\tform_id: strings.form_id,\n\t\t\t\t\tfeed_id: strings.feed_id,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!resp.success) {\n\t\t\t\tget().setErrorNotice(errorMessage);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tset({\n\t\t\t\tgoogleSheetUrl: undefined,\n\t\t\t\tconnected: false,\n\t\t\t\tgoogleSpreadsheetId: undefined,\n\t\t\t\tgoogleSheetId: undefined,\n\t\t\t\tgoogleSpreadsheetName: undefined,\n\t\t\t\tgoogleSheetName: undefined,\n\t\t\t});\n\n\t\t\tget().setSuccessNotice(\n\t\t\t\t__('Successfully disconnected feed.', 'gp-google-sheets')\n\t\t\t);\n\t\t} catch (e: any) {\n\t\t\tif (e.status >= 400) {\n\t\t\t\tget().setErrorNotice(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t// translators: %s is the error message.\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'An error occurred while disconnecting this feed. Please try again. If the problem persists, please contact support. Error: %s',\n\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t),\n\t\t\t\t\t\te.statusText\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tget().setErrorNotice(errorMessage);\n\t\t} finally {\n\t\t\tset({\n\t\t\t\tisDisconnecting: false,\n\t\t\t});\n\t\t}\n\t},\n\tsetGoogleAccount: (account: string) => {\n\t\tset({\n\t\t\tgoogleAccount: account,\n\t\t\tgoogleSpreadsheetId: undefined,\n\t\t\tgoogleSheetId: undefined,\n\t\t});\n\n\t\tget().fetchSpreadsheets(account);\n\t},\n\tsetGoogleSpreadsheetId: async (id: string) => {\n\t\tset({\n\t\t\tgoogleSpreadsheetId: id,\n\t\t\tgoogleSheetId: undefined,\n\t\t});\n\n\t\tif (!id || id === 'add' || id === 'select') {\n\t\t\treturn;\n\t\t}\n\n\t\tawait get().fetchSheets(id);\n\n\t\tconst sheets = get().sheets[id];\n\n\t\tif (!sheets) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If a Sheet1 exists, select it.\n\t\tconst sheet1 = Object.values(sheets).find(\n\t\t\t(sheet) => sheet.title === 'Sheet1'\n\t\t);\n\n\t\tif (sheet1) {\n\t\t\tset({ googleSheetId: sheet1.id });\n\t\t}\n\n\t\t// Set the URL\n\t\tconst googleAccount = get().googleAccount;\n\n\t\tif (!googleAccount) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst spreadsheets = get().spreadsheets?.[googleAccount];\n\n\t\tif (!spreadsheets || typeof spreadsheets === 'string') {\n\t\t\treturn;\n\t\t}\n\n\t\tset({\n\t\t\tgoogleSheetUrl: spreadsheets.find(\n\t\t\t\t(spreadsheet: any) => spreadsheet.id === id\n\t\t\t)?.webViewLink,\n\t\t});\n\t},\n\tsetGoogleSheetId: (id: string) => {\n\t\tset({ googleSheetId: id });\n\t},\n});\n","import { StateCreator } from 'zustand';\n\nlet strings = window.gpgs_settings_strings;\n\nif (!strings) {\n\tstrings = window.gpgs_settings_plugin_strings;\n}\n\ninterface SpreadsheetsResponse {\n\tsuccess: boolean;\n\tdata: {\n\t\tspreadsheets: Spreadsheet[];\n\t\tmessage?: string;\n\t};\n}\n\nexport interface Spreadsheet {\n\tname: string;\n\twebViewLink: string;\n\tid: string;\n}\n\ntype SheetsResponse =\n\t| {\n\t\t\tsuccess: false;\n\t\t\tdata: {\n\t\t\t\tmessage: string;\n\t\t\t};\n\t  }\n\t| {\n\t\t\tsuccess: true;\n\t\t\tdata: {\n\t\t\t\tsheets: Sheet[];\n\t\t\t};\n\t  };\n\nexport interface Sheet {\n\tid: string;\n\ttitle: string;\n}\n\nexport interface SpreadsheetsSlice {\n\tspreadsheets: { [accountId: string]: Spreadsheet[] | string | undefined };\n\tsheets: { [spreadsheetId: string]: Sheet[] | string | undefined };\n\tfetchSpreadsheets: (email: string) => Promise<void>;\n\trefetchSpreadsheets: (email: string) => Promise<void>;\n\tfetchSheets: (spreadsheetId: string) => Promise<void>;\n}\n\nexport const createSpreadsheetsSlice: StateCreator<SpreadsheetsSlice> = (\n\tset,\n\tget\n) => ({\n\tspreadsheets: {},\n\tsheets: {},\n\tfetchSpreadsheets: async (email: string) => {\n\t\tconst resp: SpreadsheetsResponse = await jQuery.get(strings.ajax_url, {\n\t\t\taction: 'gpgs_get_spreadsheets',\n\t\t\t_ajax_nonce: strings.nonce,\n\t\t\tgoogle_email: email,\n\t\t});\n\n\t\tif (!resp.success) {\n\t\t\tset({\n\t\t\t\tspreadsheets: {\n\t\t\t\t\t...get().spreadsheets,\n\t\t\t\t\t[email]: resp.data.message as string,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tset({\n\t\t\tspreadsheets: {\n\t\t\t\t...get().spreadsheets,\n\t\t\t\t[email]: resp.data.spreadsheets,\n\t\t\t},\n\t\t});\n\t},\n\trefetchSpreadsheets: async (email: string) => {\n\t\t// Clear out the spreadsheets for this email before refetching.\n\t\tset({\n\t\t\tspreadsheets: {\n\t\t\t\t...get().spreadsheets,\n\t\t\t\t[email]: undefined,\n\t\t\t},\n\t\t});\n\n\t\tawait get().fetchSpreadsheets(email);\n\t},\n\tfetchSheets: async (spreadsheetId: string) => {\n\t\tconst resp: SheetsResponse = await jQuery.post(strings.ajax_url, {\n\t\t\taction: 'gpgs_get_sheets',\n\t\t\t_ajax_nonce: strings.nonce,\n\t\t\tspreadsheet_id: spreadsheetId,\n\t\t});\n\n\t\tif (!resp.success) {\n\t\t\tset({\n\t\t\t\tsheets: {\n\t\t\t\t\t...get().sheets,\n\t\t\t\t\t[spreadsheetId]: resp.data.message as string,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tset({\n\t\t\tsheets: {\n\t\t\t\t...get().sheets,\n\t\t\t\t[spreadsheetId]: resp.data.sheets,\n\t\t\t},\n\t\t});\n\t},\n});\n","import $ from 'jquery';\n// eslint-disable-next-line import/no-unresolved\nimport { Token } from '../typings/global';\nimport { GOOGLE_PICKER_DATA_KEY, GOOGLE_TOKEN_KEY } from '../constants';\nimport { __ } from '@wordpress/i18n';\n// eslint-disable-next-line prettier/prettier\nimport type {\n\tOAuthResponseData,\n\tGPGSPluginSettingsStrings,\n\tGPGSFeedSettingsStrings,\n} from '../typings/global';\n\n/**\n * Polls local storage for a specific item.\n *\n * @param {Object}   params\n * @param {number}   params.ms         The number of milliseconds to wait between polls.\n * @param {string}   params.itemKey    The key of the item to poll for.\n * @param {Function} params.handleItem The function to call when the item is found.\n */\nexport function pollLocalStorage({\n\tms = 1000,\n\titemKey,\n\thandleItem,\n}: {\n\tms?: number;\n\titemKey: string;\n\thandleItem: (item: string) => void;\n}) {\n\tconst interval = setInterval(() => {\n\t\tconst item = localStorage.getItem(itemKey);\n\n\t\tif (item) {\n\t\t\tclearInterval(interval);\n\t\t\thandleItem(item);\n\t\t}\n\t}, ms);\n}\n\n/**\n * Helper to create a form with given inputs on the fly and post it in a new tab.\n */\nfunction submitOAuthForm({\n\toAuthServiceUrl,\n\tinputs,\n\tid = 'gpgs_oauth_form',\n}: {\n\toAuthServiceUrl: string;\n\tinputs: [string, string][];\n\tid?: string;\n}) {\n\t$(\n\t\t`<form\n\t\t\tid=\"${id}\"\n\t\t\taction=\"${oAuthServiceUrl}\"\n\t\t\tmethod=\"POST\"\n\t\t\ttarget=\"tab\"\n\t\t>\n\t\t\t${inputs.map(([name, value]) => {\n\t\t\t\tconst escapedValue = value.replace(/\"/g, '&quot;');\n\t\t\t\treturn `<input type=\"hidden\" name=\"${name}\" value=\"${escapedValue}\">`;\n\t\t\t})}\n\t\t</form>`\n\t)\n\t\t.appendTo('body')\n\t\t.submit();\n}\n\n/**\n * Helper to load the Google Picker.\n *\n * @param opts\n * @param opts.token\n * @param opts.showErrorMessage\n * @param opts.onDataFound\n * @param opts.strings\n */\nexport function showPicker({\n\ttoken,\n\tshowErrorMessage,\n\tonDataFound,\n\tstrings,\n}: {\n\ttoken: Token;\n\tshowErrorMessage: (message: string) => void;\n\tonDataFound: (data: OAuthResponseData) => void;\n\tstrings: GPGSPluginSettingsStrings | GPGSFeedSettingsStrings;\n}) {\n\tconst randomString = Math.random().toString(36).substring(2, 15);\n\n\tconst state = {\n\t\toauth_random_string: randomString,\n\t\toauth_validation_token: strings.oauth_validation_token,\n\t\tuser_id: strings.user_id,\n\t};\n\n\tsubmitOAuthForm({\n\t\toAuthServiceUrl: `${strings.gwiz_oauth_service_url}/google/file-picker`,\n\t\tinputs: [\n\t\t\t['postUrl', `${strings.ajax_url}?action=gpgs_picker_callback`],\n\t\t\t['accessToken', token.access_token],\n\t\t\t['state', JSON.stringify(state)],\n\t\t],\n\t\tid: 'gpgs-google-sheet-picker',\n\t});\n\n\tconst pickerDataLocalStorageKey = `${GOOGLE_PICKER_DATA_KEY}_${randomString}`;\n\t/**\n\t * Start checking local storage for the Google Sheet URL.\n\t * This way we know when the user has picked a sheet in the opened picker\n\t * tab.\n\t */\n\tpollLocalStorage({\n\t\titemKey: pickerDataLocalStorageKey,\n\t\thandleItem: (item) => {\n\t\t\tlocalStorage.removeItem(pickerDataLocalStorageKey);\n\n\t\t\tconst data: OAuthResponseData = JSON.parse(item);\n\n\t\t\tif (data.success === '0' || !data.sheet_url) {\n\t\t\t\tshowErrorMessage(\n\t\t\t\t\tdata.message ||\n\t\t\t\t\t\t__('Error picking spreadsheet.', 'gp-google-sheets')\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tonDataFound(data);\n\t\t},\n\t});\n}\n\nexport function openOAuthTab({\n\tstrings,\n\tshowErrorMessage,\n\tonDataFound,\n\tactionHandlerName,\n}: {\n\tshowErrorMessage: (message: string) => void;\n\tonDataFound: (data: OAuthResponseData) => void;\n\tstrings: GPGSPluginSettingsStrings | GPGSFeedSettingsStrings;\n\tactionHandlerName: string;\n}) {\n\tconst url = `${strings.gwiz_oauth_service_url}/oauth/google`;\n\n\tconst randomString = Math.random().toString(36).substring(2, 15);\n\n\tconst state = {\n\t\toauth_random_string: randomString,\n\t\toauth_validation_token: strings.oauth_validation_token,\n\t\tuser_id: strings.user_id,\n\t};\n\n\tsubmitOAuthForm({\n\t\toAuthServiceUrl: url,\n\t\tinputs: [\n\t\t\t['licenseId', strings.gravity_perks_license_id],\n\t\t\t['licenseHash', strings.gravity_perks_license_hash],\n\t\t\t['redirectUrl', `${strings.ajax_url}?action=${actionHandlerName}`],\n\t\t\t['perkId', strings.slug],\n\t\t\t['siteUrl', strings.site_url],\n\t\t\t['state', JSON.stringify(state)],\n\t\t],\n\t});\n\n\tconst oauthDataLocalStorageKey = `${GOOGLE_TOKEN_KEY}_${randomString}`;\n\n\t/**\n\t * Start checking local storage for the Google Token.\n\t * This way we know when the user has finished oauthing so that we can\n\t * store the token so that it will be saved.\n\t */\n\tpollLocalStorage({\n\t\titemKey: oauthDataLocalStorageKey,\n\t\thandleItem: (item) => {\n\t\t\t// remove the item from local storage to prevent it from interfering with future polling.\n\t\t\tlocalStorage.removeItem(oauthDataLocalStorageKey);\n\n\t\t\tconst data: OAuthResponseData = JSON.parse(item);\n\n\t\t\tif (data.success === '0' || !data.token) {\n\t\t\t\tshowErrorMessage(data.message);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tonDataFound(data);\n\t\t},\n\t});\n}\n","import { StateCreator } from 'zustand';\nimport { NoticesSlice } from './notices';\nimport { openOAuthTab } from '../../helpers/oauth';\nimport { __ } from '@wordpress/i18n';\n\nlet strings = window.gpgs_settings_strings;\n\nif (!strings) {\n\tstrings = window.gpgs_settings_plugin_strings;\n}\n\nexport interface GoogleAccount {\n\ttokenIsHealthy: boolean;\n\taccountId: string;\n\tgoogleEmail: string;\n\tuserId: number;\n\tuserDisplayName: string;\n\tuserEditLink: string;\n\tisLegacyToken: boolean;\n\ttoken: {\n\t\taccess_token: string;\n\t\trefresh_token: string;\n\t\ttoken_type: string;\n\t\tscope: string;\n\t\texpiry_date?: number;\n\t\tgwiz_oauth?: boolean;\n\t};\n}\n\nexport interface GoogleAccountsSlice {\n\tgoogleAccounts: GoogleAccount[] | undefined;\n\tfetchGoogleAccounts: () => Promise<void>;\n\taddGoogleAccount: () => Promise<GoogleAccount['token']>;\n}\n\ninterface GoogleAccountsResponse {\n\tsuccess: boolean;\n\tdata: {\n\t\tgoogle_accounts: GoogleAccount[];\n\t\tmessage?: string;\n\t};\n}\n\nexport const createGoogleAccountsSlice: StateCreator<\n\tNoticesSlice & GoogleAccountsSlice,\n\t[],\n\t[],\n\tGoogleAccountsSlice\n> = (set, get) => ({\n\tgoogleAccounts: undefined,\n\tfetchGoogleAccounts: async () => {\n\t\ttry {\n\t\t\tconst resp: GoogleAccountsResponse = await jQuery.get(\n\t\t\t\tstrings.ajax_url,\n\t\t\t\t{\n\t\t\t\t\taction: 'gpgs_get_google_accounts',\n\t\t\t\t\t_ajax_nonce: strings.nonce,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!resp.success) {\n\t\t\t\tset({ googleAccounts: [] });\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tset({\n\t\t\t\tgoogleAccounts: resp.data.google_accounts,\n\t\t\t});\n\t\t} catch (e: any) {\n\t\t\tif (e.status >= 400) {\n\t\t\t\tset({ googleAccounts: [] });\n\t\t\t}\n\t\t}\n\t},\n\taddGoogleAccount: () => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\topenOAuthTab({\n\t\t\t\tshowErrorMessage: (message) => {\n\t\t\t\t\tget().setErrorNotice(message);\n\t\t\t\t\treject(new Error(message));\n\t\t\t\t},\n\t\t\t\tstrings,\n\t\t\t\tonDataFound: ({ token }) => {\n\t\t\t\t\tif (!token) {\n\t\t\t\t\t\tget().setErrorNotice(\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Failed to get token. Please try again.',\n\t\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tget().setSuccessNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Successfully added new Google Account!',\n\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tresolve(token);\n\t\t\t\t},\n\t\t\t\tactionHandlerName: 'gpgs_plugin_settings_oauth_callback',\n\t\t\t});\n\t\t});\n\t},\n});\n","export const GOOGLE_TOKEN_KEY = 'gpgs_google_oauth_data';\nexport const GOOGLE_PICKER_DATA_KEY = 'gpgs_google_picker_data';\n","import { StateCreator } from 'zustand';\nimport { NoticesSlice } from '../notices';\nimport { __, sprintf } from '@wordpress/i18n';\n\nconst { gpgs_settings_strings: strings } = window;\n\nexport interface TestRowsSlice {\n\tisInsertingTestRow: boolean;\n\tinsertTestRow: () => Promise<void>;\n}\n\ninterface InsertRowsResponse {\n\tsuccess: boolean;\n\tdata?: {\n\t\tmessage?: string;\n\t};\n}\n\nexport const createTestRowsSlice: StateCreator<\n\tTestRowsSlice & NoticesSlice,\n\t[],\n\t[],\n\tTestRowsSlice\n> = (set, get) => ({\n\tisInsertingTestRow: false,\n\tasync insertTestRow() {\n\t\tif (get().isInsertingTestRow) {\n\t\t\treturn;\n\t\t}\n\n\t\tget().clearNotices();\n\n\t\tset({\n\t\t\tisInsertingTestRow: true,\n\t\t});\n\n\t\ttry {\n\t\t\tconst resp: InsertRowsResponse = await jQuery.post(\n\t\t\t\tstrings.ajax_url,\n\t\t\t\t{\n\t\t\t\t\taction: 'gpgs_insert_test_row',\n\t\t\t\t\t_ajax_nonce: strings.nonce,\n\t\t\t\t\tform_id: strings.form_id,\n\t\t\t\t\tfeed_id: strings.feed_id,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!resp.success) {\n\t\t\t\tget().setErrorNotice(\n\t\t\t\t\tresp.data?.message ??\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'An unknown error occurred while inserting a test row.',\n\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tget().setSuccessNotice(\n\t\t\t\t__('Successfully inserted a test row.', 'gp-google-sheets')\n\t\t\t);\n\t\t} catch (insertRowsError: any) {\n\t\t\tif (insertRowsError.status >= 400) {\n\t\t\t\tget().setErrorNotice(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t// translators: %s is the error message.\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'An error occurred while adding a test row. Please try again. If the problem persists, please contact support. Error: %s',\n\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tinsertRowsError.statusText\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tget().setErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'An unknown error occurred while scanning for issues. Please try again. If the problem persists, please contact support.',\n\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t)\n\t\t\t);\n\t\t} finally {\n\t\t\tset({\n\t\t\t\tisInsertingTestRow: false,\n\t\t\t});\n\t\t}\n\t},\n});\n","import { create } from 'zustand';\nimport { NoticesSlice, createNoticesSlice } from './slices/notices';\nimport {\n\tGoogleConnectionSlice,\n\tcreateGoogleConnectionSlice,\n} from './slices/feed-settings/google-connection';\nimport {\n\tSpreadsheetsSlice,\n\tcreateSpreadsheetsSlice,\n} from './slices/spreadsheets';\nimport {\n\tGoogleAccountsSlice,\n\tcreateGoogleAccountsSlice,\n} from './slices/google-accounts';\nimport { createSelectors } from './helpers/selectors';\nimport {\n\tTestRowsSlice,\n\tcreateTestRowsSlice,\n} from './slices/feed-settings/test-rows';\n\nconst useFeedSettingsStoreBase = create<\n\tNoticesSlice &\n\t\tGoogleAccountsSlice &\n\t\tGoogleConnectionSlice &\n\t\tSpreadsheetsSlice &\n\t\tTestRowsSlice\n>((...a) => ({\n\t...createNoticesSlice(...a),\n\t...createGoogleConnectionSlice(...a),\n\t...createGoogleAccountsSlice(...a),\n\t...createSpreadsheetsSlice(...a),\n\t...createTestRowsSlice(...a),\n}));\n\nexport const useFeedSettingsStore = createSelectors(useFeedSettingsStoreBase);\n","// https://docs.pmnd.rs/zustand/guides/auto-generating-selectors\nimport { StoreApi, UseBoundStore } from 'zustand';\n\ntype WithSelectors<S> = S extends { getState: () => infer T }\n\t? S & { use: { [K in keyof T]: () => T[K] } }\n\t: never;\n\nexport const createSelectors = <S extends UseBoundStore<StoreApi<object>>>(\n\t_store: S\n) => {\n\tconst store = _store as WithSelectors<typeof _store>;\n\tstore.use = {};\n\tfor (const k of Object.keys(store.getState())) {\n\t\t(store.use as any)[k] = () => store((s) => s[k as keyof typeof s]);\n\t}\n\n\treturn store;\n};\n","import { __ } from '@wordpress/i18n';\nimport { useFeedSettingsStore } from '../../store/feed-settings';\n\nconst InsertTestRowButton = () => {\n\tconst isInserting = useFeedSettingsStore.use.isInsertingTestRow();\n\tconst insertTestRow = useFeedSettingsStore.use.insertTestRow();\n\n\tconst onClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\t\tinsertTestRow();\n\t};\n\n\treturn (\n\t\t<button\n\t\t\tid=\"insert_test_row\"\n\t\t\tclassName=\"button add-new-h2\"\n\t\t\tonClick={onClick}\n\t\t\tdisabled={isInserting}\n\t\t\tstyle={{ top: 0 }}\n\t\t>\n\t\t\t{__('Insert Test Row', 'gp-google-sheets')}\n\t\t\t{isInserting && (\n\t\t\t\t<span className=\"spinner spinner_insert_test_row is-active\"></span>\n\t\t\t)}\n\t\t</button>\n\t);\n};\n\nexport default InsertTestRowButton;\n","import { __ } from '@wordpress/i18n';\nimport { useFeedSettingsStore } from '../../store/feed-settings';\n\nconst DisconnectButton = () => {\n\tconst isDisconnecting = useFeedSettingsStore.use.isDisconnecting();\n\tconst disconnect = useFeedSettingsStore.use.disconnectFeed();\n\n\tconst onClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\t\tdisconnect();\n\t};\n\n\treturn (\n\t\t<button\n\t\t\tid=\"disconnect\"\n\t\t\tclassName=\"button add-new-h2\"\n\t\t\tstyle={{ top: 0 }}\n\t\t\tonClick={onClick}\n\t\t\tdisabled={isDisconnecting}\n\t\t>\n\t\t\t{__('Disconnect', 'gp-google-sheets')}\n\t\t\t{isDisconnecting && (\n\t\t\t\t<span className=\"spinner spinner_insert_test_row is-active\"></span>\n\t\t\t)}\n\t\t</button>\n\t);\n};\n\nexport default DisconnectButton;\n","import { Fragment } from 'react';\nimport InsertTestRowButton from './InsertTestRow';\nimport DisconnectButton from './DisconnectButton';\nimport { useFeedSettingsStore } from '../../store/feed-settings';\n\nconst ConnectedCard = () => {\n\tconst sheetUrl = useFeedSettingsStore.use.googleSheetUrl();\n\tconst spreadsheetName = useFeedSettingsStore.use.googleSpreadsheetName();\n\tconst sheetName = useFeedSettingsStore.use.googleSheetName();\n\tconst googleErrorMessage = useFeedSettingsStore.use.googleErrorMessage();\n\n\tlet linkText = spreadsheetName;\n\n\tif (sheetName) {\n\t\tlinkText = `${linkText} (${sheetName})`;\n\t}\n\n\tconst errorMessage = googleErrorMessage && (\n\t\t<Fragment>\n\t\t\t<div dangerouslySetInnerHTML={{ __html: googleErrorMessage }} />\n\t\t\t<br />\n\t\t</Fragment>\n\t);\n\n\tconst spreadsheetLink = (\n\t\t<span>\n\t\t\t<a href={sheetUrl} target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t{linkText}\n\t\t\t</a>\n\t\t</span>\n\t);\n\n\tif (googleErrorMessage) {\n\t\treturn (\n\t\t\t<p className=\"alert error\">\n\t\t\t\t{errorMessage}\n\t\t\t\t{spreadsheetLink}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\talignSelf: 'self-end',\n\t\t\t\t\t\tmarginLeft: 'auto !important',\n\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<DisconnectButton />\n\t\t\t\t</span>\n\t\t\t</p>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"alert gforms_note_success\"\n\t\t\tstyle={{ display: 'flex', alignItems: 'center', marginBottom: 0 }}\n\t\t>\n\t\t\t{spreadsheetLink}\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\t\talignSelf: 'self-end',\n\t\t\t\t\tmarginLeft: 'auto',\n\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tgap: '1rem',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<InsertTestRowButton />\n\t\t\t\t<DisconnectButton />\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n\nexport default ConnectedCard;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactDOM\"];","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport { Notice } from '../store/slices/notices';\n\nconst Notices = ({ notices }: { notices: Notice[] }) => {\n\tconst noticesWrapper = document.getElementById('gf-admin-notices-wrapper');\n\n\tif (!noticesWrapper) {\n\t\treturn null;\n\t}\n\n\tconst NoticeMarkup = ({ notice }: { notice: Notice }) => (\n\t\t<div className={`notice notice-${notice.type} gf-notice`}>\n\t\t\t<p>{notice.message}</p>\n\t\t</div>\n\t);\n\n\tconst NoticesMarkup = (\n\t\t<React.Fragment>\n\t\t\t{notices.map((notice, index) => (\n\t\t\t\t<NoticeMarkup notice={notice} key={index} />\n\t\t\t))}\n\t\t</React.Fragment>\n\t);\n\n\treturn createPortal(NoticesMarkup, noticesWrapper!);\n};\n\nexport default Notices;\n","import getSpreadsheetIdFromUrl from '../../helpers/get-spreadsheet-id-from-url';\nimport { showPicker } from '../../helpers/oauth';\nimport { useFeedSettingsStore } from '../../store/feed-settings';\nimport SettingSelect from '../settings/SettingSelect';\nimport { __ } from '@wordpress/i18n';\n\nconst strings = window.gpgs_settings_strings;\n\nconst SettingSpreadsheet = () => {\n\tconst setGoogleSpreadsheetId =\n\t\tuseFeedSettingsStore.use.setGoogleSpreadsheetId();\n\tconst googleSpreadsheetId = useFeedSettingsStore.use.googleSpreadsheetId();\n\tconst setErrorNotice = useFeedSettingsStore.use.setErrorNotice();\n\tconst googleAccount = useFeedSettingsStore.use.googleAccount();\n\tconst googleAccountToken = useFeedSettingsStore((state) => {\n\t\tif (!state.googleAccount) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Find the Google account in state.googleAccounts with the matching email and get the token.\n\t\treturn state.googleAccounts?.find(\n\t\t\t(account) => account.googleEmail === state.googleAccount\n\t\t)?.token;\n\t});\n\n\tconst spreadsheets = useFeedSettingsStore((state) => {\n\t\tif (!state.googleAccount) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn state.spreadsheets?.[state.googleAccount];\n\t});\n\n\tconst refetchSpreadsheets = useFeedSettingsStore.use.refetchSpreadsheets();\n\n\tconst onChange = (value: string) => {\n\t\tsetGoogleSpreadsheetId(value);\n\n\t\tif (value === 'select') {\n\t\t\tshowPicker({\n\t\t\t\ttoken: googleAccountToken as any,\n\t\t\t\tshowErrorMessage: setErrorNotice,\n\t\t\t\t// eslint-disable-next-line camelcase\n\t\t\t\tonDataFound: async ({ sheet_url }) => {\n\t\t\t\t\t// eslint-disable-next-line camelcase\n\t\t\t\t\tif (!sheet_url) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tawait refetchSpreadsheets(googleAccount!);\n\t\t\t\t\tsetGoogleSpreadsheetId(getSpreadsheetIdFromUrl(sheet_url)!);\n\t\t\t\t},\n\t\t\t\tstrings,\n\t\t\t});\n\t\t}\n\t};\n\n\t// Error state\n\tif (typeof spreadsheets === 'string') {\n\t\treturn (\n\t\t\t<p className=\"notice notice-error\">\n\t\t\t\t{__(\n\t\t\t\t\t'An error occurred while fetching your spreadsheets. Please try again.',\n\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t)}\n\t\t\t</p>\n\t\t);\n\t}\n\n\treturn (\n\t\t<SettingSelect\n\t\t\tname=\"google_spreadsheet_id\"\n\t\t\tlabel=\"Spreadsheet\"\n\t\t\tvalue={googleSpreadsheetId ?? ''}\n\t\t\tonChange={onChange}\n\t\t\ttooltip={__(\n\t\t\t\t'Select the spreadsheet you would like to store Gravity Forms entries in.'\n\t\t\t)}\n\t\t\tplaceholder={\n\t\t\t\ttypeof spreadsheets === 'undefined'\n\t\t\t\t\t? __('Loading…', 'gp-google-sheets')\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tdisabled={typeof spreadsheets === 'undefined'}\n\t\t\toptions={[\n\t\t\t\t{\n\t\t\t\t\ttext: __('Actions', 'gp-google-sheets'),\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: __('Add New Spreadsheet', 'gp-google-sheets'),\n\t\t\t\t\t\t\tvalue: 'add',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: __(\n\t\t\t\t\t\t\t\t'Connect Existing Spreadsheet',\n\t\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tvalue: 'select',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: __('Connected Spreadsheets', 'gp-google-sheets'),\n\t\t\t\t\toptions:\n\t\t\t\t\t\ttypeof spreadsheets === 'object'\n\t\t\t\t\t\t\t? spreadsheets.map((spreadsheet) => ({\n\t\t\t\t\t\t\t\t\ttext: spreadsheet.name,\n\t\t\t\t\t\t\t\t\tvalue: spreadsheet.id,\n\t\t\t\t\t\t\t  }))\n\t\t\t\t\t\t\t: [],\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n};\n\nexport default SettingSpreadsheet;\n","const getSpreadsheetIdFromUrl = (url: string) => {\n\tconst urlPieces = url.split('/');\n\tif (urlPieces.length >= 6) {\n\t\treturn urlPieces[5];\n\t}\n\treturn null;\n};\n\nexport default getSpreadsheetIdFromUrl;\n","import { useFeedSettingsStore } from '../../store/feed-settings';\nimport { useEffect } from 'react';\nimport SettingSelect from './SettingSelect';\nimport { __ } from '@wordpress/i18n';\n\nconst SettingGoogleAccount = () => {\n\tconst googleAccount = useFeedSettingsStore.use.googleAccount();\n\tconst googleAccounts = useFeedSettingsStore((state) => {\n\t\t// Filter out legacy tokens as the Picker will not work with them among other things and we're not going to be supporting them.\n\t\treturn state.googleAccounts?.filter((account) => {\n\t\t\treturn !account.isLegacyToken;\n\t\t});\n\t});\n\tconst fetchGoogleAccounts = useFeedSettingsStore.use.fetchGoogleAccounts();\n\tconst setGoogleAccount = useFeedSettingsStore.use.setGoogleAccount();\n\tconst addGoogleAccount = useFeedSettingsStore.use.addGoogleAccount();\n\n\tconst onChange = async (value: string) => {\n\t\tif (value === 'add') {\n\t\t\tconst token = await addGoogleAccount();\n\n\t\t\tawait fetchGoogleAccounts();\n\n\t\t\tconst googleAccountsRefreshed =\n\t\t\t\tuseFeedSettingsStore.getState().googleAccounts;\n\n\t\t\t// Find the Google account with the matching token and set it as the selected account.\n\t\t\tconst accountToSelect = googleAccountsRefreshed?.find(\n\t\t\t\t(account) => account.token.access_token === token.access_token\n\t\t\t);\n\n\t\t\tif (accountToSelect) {\n\t\t\t\tsetGoogleAccount(accountToSelect.googleEmail);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tsetGoogleAccount(value);\n\t};\n\n\tuseEffect(() => {\n\t\tfetchGoogleAccounts();\n\t}, [fetchGoogleAccounts]);\n\n\treturn (\n\t\t<SettingSelect\n\t\t\tname=\"google_sheet_account\"\n\t\t\tlabel=\"Account\"\n\t\t\tvalue={googleAccount ?? ''}\n\t\t\tonChange={onChange}\n\t\t\ttooltip={__(\n\t\t\t\t'The Google account to create a new sheet under or to select an existing sheet from.'\n\t\t\t)}\n\t\t\tdisabled={typeof googleAccounts === 'undefined'}\n\t\t\tplaceholder={\n\t\t\t\ttypeof googleAccounts === 'undefined'\n\t\t\t\t\t? __('Loading…', 'gp-google-sheets')\n\t\t\t\t\t: __('Select an Account', 'gp-google-sheets')\n\t\t\t}\n\t\t\toptions={[\n\t\t\t\t{\n\t\t\t\t\ttext: __('Actions', 'gp-google-sheets'),\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: __(\n\t\t\t\t\t\t\t\t'Authorize New Account',\n\t\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tvalue: 'add',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: __('Authorized Accounts', 'gp-google-sheets'),\n\t\t\t\t\toptions:\n\t\t\t\t\t\tgoogleAccounts?.map((account) => ({\n\t\t\t\t\t\t\ttext: account.googleEmail,\n\t\t\t\t\t\t\tvalue: account.googleEmail,\n\t\t\t\t\t\t})) ?? [],\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n};\n\nexport default SettingGoogleAccount;\n","import { Fragment, useEffect } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport SettingSelect from '../settings/SettingSelect';\nimport ConnectedCard from './ConnectedCard';\nimport Notices from '../Notices';\nimport { useFeedSettingsStore } from '../../store/feed-settings';\nimport {\n\tdisableColumnMappingSection,\n\tenableColumnMappingSection,\n\tupdateColumnMappingSection,\n} from '../../helpers/feed-sections';\nimport SettingSpreadsheet from '../settings/SettingSpreadsheet';\nimport SettingGoogleAccount from '../settings/SettingGoogleAccount';\n\nconst GoogleSheetSettings = () => {\n\tconst googleAccount = useFeedSettingsStore.use.googleAccount();\n\tconst notices = useFeedSettingsStore.use.notices();\n\tconst sheetUrl = useFeedSettingsStore.use.googleSheetUrl();\n\tconst googleSpreadsheetId = useFeedSettingsStore.use.googleSpreadsheetId();\n\tconst googleSheetId = useFeedSettingsStore.use.googleSheetId();\n\tconst setGoogleSheetId = useFeedSettingsStore.use.setGoogleSheetId();\n\tconst connected = useFeedSettingsStore.use.connected();\n\tconst googleErrorMessage = useFeedSettingsStore.use.googleErrorMessage();\n\n\tconst sheets = useFeedSettingsStore((state) => {\n\t\tif (!state.googleSpreadsheetId) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn state.sheets?.[state.googleSpreadsheetId];\n\t});\n\n\tuseEffect(() => {\n\t\tif (\n\t\t\t(typeof googleSpreadsheetId === 'undefined' ||\n\t\t\t\tgoogleSpreadsheetId === 'add') &&\n\t\t\tgoogleAccount\n\t\t) {\n\t\t\tenableColumnMappingSection();\n\t\t} else if (googleSpreadsheetId) {\n\t\t\tdisableColumnMappingSection();\n\n\t\t\tif (\n\t\t\t\tgoogleSpreadsheetId === 'select' ||\n\t\t\t\tgoogleSheetId === '' ||\n\t\t\t\tgoogleSheetId === undefined ||\n\t\t\t\ttypeof sheets === 'string' ||\n\t\t\t\t!sheetUrl\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdateColumnMappingSection({\n\t\t\t\tsheetId: googleSheetId,\n\t\t\t\tsheetName: sheets?.find(\n\t\t\t\t\t(sheet: any) => sheet.id === googleSheetId\n\t\t\t\t)?.title!,\n\t\t\t\tsheetUrl,\n\t\t\t});\n\t\t} else if (!sheetUrl || googleErrorMessage) {\n\t\t\tdisableColumnMappingSection();\n\t\t}\n\t}, [\n\t\tsheetUrl,\n\t\tgoogleSpreadsheetId,\n\t\tgoogleSheetId,\n\t\tgoogleAccount,\n\t\tsheets,\n\t\tgoogleErrorMessage,\n\t]);\n\n\t// Sync updates to the hidden inputs for Gravity Forms.\n\tuseEffect(() => {\n\t\tconst $sheetUrl: HTMLInputElement = document.querySelector(\n\t\t\t'input#google_sheet_url'\n\t\t)!;\n\n\t\tconst $sheetId: HTMLInputElement = document.querySelector(\n\t\t\t'input#google_sheet_id'\n\t\t)!;\n\n\t\t$sheetUrl.value = sheetUrl ?? '';\n\t\t$sheetId.value = googleSheetId ?? '';\n\t}, [sheetUrl, googleSheetId]);\n\n\t// If already connected, show the connected card.\n\tif (connected) {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Notices notices={notices} />\n\t\t\t\t<ConnectedCard />\n\t\t\t</Fragment>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Notices notices={notices} />\n\t\t\t<SettingGoogleAccount />\n\t\t\t{googleAccount && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<SettingSpreadsheet />\n\t\t\t\t\t{googleSpreadsheetId &&\n\t\t\t\t\t\tgoogleSpreadsheetId !== 'select' &&\n\t\t\t\t\t\tgoogleSpreadsheetId !== 'add' && (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={sheetUrl}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tmarginBottom: 10,\n\t\t\t\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{__('View Spreadsheet', 'gp-google-sheets')}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)}\n\t\t\t\t\t{googleSpreadsheetId &&\n\t\t\t\t\t\tgoogleSpreadsheetId !== 'select' &&\n\t\t\t\t\t\tgoogleSpreadsheetId !== 'add' && (\n\t\t\t\t\t\t\t<SettingSelect\n\t\t\t\t\t\t\t\tname=\"google_sheet_id_selector\"\n\t\t\t\t\t\t\t\tlabel=\"Sheet\"\n\t\t\t\t\t\t\t\tvalue={googleSheetId ?? ''}\n\t\t\t\t\t\t\t\tonChange={setGoogleSheetId}\n\t\t\t\t\t\t\t\ttooltip={__(\n\t\t\t\t\t\t\t\t\t'Select the specific sheet in the spreadsheet you would like to store Gravity Forms entries in.'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tdisabled={typeof sheets === 'undefined'}\n\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\ttypeof sheets === 'undefined'\n\t\t\t\t\t\t\t\t\t\t? __('Loading…', 'gp-google-sheets')\n\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Select a Sheet',\n\t\t\t\t\t\t\t\t\t\t\t\t'gp-google-sheets'\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\ttypeof sheets === 'object'\n\t\t\t\t\t\t\t\t\t\t? sheets.map((sheet) => ({\n\t\t\t\t\t\t\t\t\t\t\t\ttext: sheet.title,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: sheet.id,\n\t\t\t\t\t\t\t\t\t\t  }))\n\t\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n\nexport default GoogleSheetSettings;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","import { createRoot, render } from '@wordpress/element';\nimport GoogleSheetSettings from './components/settings-feed/GoogleSheetSettings';\nimport { addFilter } from '@wordpress/hooks';\nimport { __ } from '@wordpress/i18n';\n\n// Spin up React\nconst el = document.querySelector(\n\t'#gform-settings-section-google-sheets-settings .gform-settings-panel__content'\n);\n\nif (typeof createRoot === 'function') {\n\tconst root = createRoot(el!);\n\troot.render(<GoogleSheetSettings />);\n} else {\n\trender(<GoogleSheetSettings />, el);\n}\n\n// Filters\naddFilter(\n\t'i18n.gettext',\n\t'gp-google-sheets/override-generic-map-column-labels',\n\t(translation: string, text: string, domain: string) => {\n\t\tif (text === 'Select a Field') {\n\t\t\treturn __('Select a Column', 'gp-google-sheets');\n\t\t}\n\n\t\tif (text === 'Add Custom Key') {\n\t\t\treturn __('Add New Column', 'gp-google-sheets');\n\t\t}\n\n\t\treturn translation;\n\t}\n);\n"],"names":["f","k","Symbol","for","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","exports","jsx","jsxs","module","strings","window","gpgs_settings_strings","disableSettingsSection","selector","addClass","attr","enableSettingsSection","removeClass","removeAttr","disableColumnMappingSection","enableColumnMappingSection","updateColumnMappingSection","sheetId","sheetName","sheetUrl","jQuery","get","ajax_url","action","_ajax_nonce","nonce","id","form_id","feed_id","sheet_url","sheet_id","sheet_name","response","matches","data","controlsHTML","match","length","replace","html","eval","console","warn","is","l","useState","useEffect","useLayoutEffect","useDebugValue","r","getSnapshot","value","u","document","createElement","inst","useSyncExternalStore","t","useRef","v","useMemo","w","useSyncExternalStoreWithSelector","hasValue","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","o","defineProperty","enumerable","obj","prop","content","gform_initialize_tooltips","onClick","preventDefault","onKeyPress","className","name","label","required","tooltip","options","placeholder","disabled","onChange","htmlFor","__","target","map","option","text","opt","createStoreImpl","createState","state","listeners","Set","setState","partial","nextState","previousState","assign","forEach","listener","getState","api","subscribe","add","delete","destroy","clear","didWarnAboutEqualityFn","createImpl","createStore","useBoundStore","equalityFn","slice","getServerState","useStore","createNoticesSlice","set","notices","clearNotices","addNotice","notice","setNotice","setErrorNotice","message","setSuccessNotice","createGoogleConnectionSlice","isDisconnecting","googleAccount","connected","querySelector","googleSheetUrl","googleSpreadsheetId","googleSheetId","googleSpreadsheetName","spreadsheet_name","googleSheetName","googleErrorMessage","error_message","disconnectFeed","errorMessage","post","success","status","sprintf","statusText","setGoogleAccount","account","fetchSpreadsheets","setGoogleSpreadsheetId","fetchSheets","sheets","sheet1","values","find","sheet","title","spreadsheets","spreadsheet","webViewLink","setGoogleSheetId","gpgs_settings_plugin_strings","createSpreadsheetsSlice","email","google_email","resp","refetchSpreadsheets","spreadsheetId","spreadsheet_id","pollLocalStorage","ms","itemKey","handleItem","interval","setInterval","item","localStorage","getItem","clearInterval","submitOAuthForm","oAuthServiceUrl","inputs","escapedValue","appendTo","submit","createGoogleAccountsSlice","googleAccounts","fetchGoogleAccounts","google_accounts","addGoogleAccount","Promise","resolve","reject","showErrorMessage","onDataFound","actionHandlerName","url","gwiz_oauth_service_url","randomString","Math","random","toString","substring","oauth_random_string","oauth_validation_token","user_id","gravity_perks_license_id","gravity_perks_license_hash","slug","site_url","JSON","stringify","oauthDataLocalStorageKey","removeItem","parse","token","openOAuthTab","Error","createTestRowsSlice","isInsertingTestRow","insertTestRow","useFeedSettingsStore","_store","store","use","s","keys","createSelectors","isInserting","style","top","disconnect","spreadsheetName","linkText","Fragment","dangerouslySetInnerHTML","__html","spreadsheetLink","href","rel","alignSelf","marginLeft","verticalAlign","display","alignItems","marginBottom","gap","InsertTestRow","noticesWrapper","getElementById","NoticeMarkup","NoticesMarkup","index","createPortal","googleAccountToken","googleEmail","access_token","pickerDataLocalStorageKey","showPicker","urlPieces","split","filter","isLegacyToken","googleAccountsRefreshed","accountToSelect","$sheetUrl","$sheetId","el","createRoot","render","addFilter","translation","domain"],"sourceRoot":""}