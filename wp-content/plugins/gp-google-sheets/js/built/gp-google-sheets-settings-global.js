/*! For license information please see gp-google-sheets-settings-global.js.LICENSE.txt */
(()=>{"use strict";var e={251:(e,t,n)=>{var r=n(196),s=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,c={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:u,props:c,_owner:a.current}}t.jsx=c,t.jsxs=c},893:(e,t,n)=>{e.exports=n(251)},250:(e,t,n)=>{var r=n(196),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,i=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),s=r[0].inst,u=r[1];return i((function(){s.value=n,s.getSnapshot=t,l(s)&&u({inst:s})}),[e,n,t]),a((function(){return l(s)&&u({inst:s}),e((function(){l(s)&&u({inst:s})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},139:(e,t,n)=>{var r=n(196),s=n(688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useSyncExternalStore,i=r.useRef,c=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var g=i(null);if(null===g.current){var d={hasValue:!1,value:null};g.current=d}else d=g.current;g=l((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==s&&d.hasValue){var t=d.value;if(s(t,e))return i=t}return i=e}if(t=i,o(a,e))return t;var n=r(e);return void 0!==s&&s(t,n)?t:(a=e,i=n)}var a,i,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,s]);var h=a(e,g[0],g[1]);return c((function(){d.hasValue=!0,d.value=h}),[h]),u(h),h}},688:(e,t,n)=>{e.exports=n(250)},798:(e,t,n)=>{e.exports=n(139)},196:e=>{e.exports=window.React}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(893);const t=window.wp.element;var r=n(196),s=n.n(r);const o=function(t){var n=t.children,r=t.title,s=t.id;return(0,e.jsxs)("fieldset",{id:"gform-settings-section-".concat(s),className:"gform-settings-panel gform-settings-panel--with-title",children:[(0,e.jsx)("legend",{className:"gform-settings-panel__title gform-settings-panel__title--header",children:r}),(0,e.jsx)("div",{className:"gform-settings-panel__content",children:n})]})},a=window.wp.i18n;var i;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const l=function(e){return r.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:26,height:26},e),i||(i=r.createElement("g",{fill:"none",className:"green-checkmark_svg__nc-icon-wrapper"},r.createElement("path",{fill:"#22A753",fillRule:"evenodd",d:"M13 26c7.18 0 13-5.82 13-13S20.18 0 13 0 0 5.82 0 13s5.82 13 13 13z",clipRule:"evenodd"}),r.createElement("path",{fill:"#fff",d:"m11 14.586 6.293-6.293a1 1 0 1 1 1.414 1.414L11 17.414l-3.707-3.707a1 1 0 1 1 1.414-1.414L11 14.586z"}))))};var u;function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}const d=function(e){return r.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:26,height:26},e),u||(u=r.createElement("g",{fill:"none",className:"red-x_svg__nc-icon-wrapper"},r.createElement("path",{fill:"#CB2431",fillRule:"evenodd",d:"M13 26c7.18 0 13-5.82 13-13S20.18 0 13 0 0 5.82 0 13s5.82 13 13 13z",clipRule:"evenodd"}),r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M8.183 8.183a.625.625 0 0 0 0 .884L12.116 13l-3.933 3.933a.625.625 0 1 0 .884.884L13 13.884l3.933 3.933a.625.625 0 1 0 .884-.884L13.884 13l3.933-3.933a.625.625 0 1 0-.884-.884L13 12.116 9.067 8.183a.625.625 0 0 0-.884 0z",clipRule:"evenodd"}),r.createElement("path",{fill:"#fff",d:"m8.183 9.067-.353.354.353-.354zm0-.884L7.83 7.83l.353.353zM12.116 13l.354.354.353-.354-.353-.354-.354.354zm-3.933 3.933-.353-.354.353.354zm0 .884-.353.354.353-.354zM13 13.884l.354-.354-.354-.353-.354.353.354.354zm3.933 3.933.354-.354-.354.354zm.884-.884-.354.354.354-.354zM13.884 13l-.354-.354-.353.354.353.354.354-.354zm3.933-4.817.354-.353-.354.353zm-.884 0-.354-.353.354.353zM13 12.116l-.354.354.354.353.354-.353-.354-.354zM9.067 8.183l.354-.353-.354.353zm-.53.53a.125.125 0 0 1 0-.176l-.708-.708a1.127 1.127 0 0 0 0 1.592l.708-.708zm3.933 3.933L8.537 8.713l-.708.708 3.934 3.933.707-.708zm-3.933 4.64 3.933-3.932-.707-.708L7.83 16.58l.707.708zm0 .177a.125.125 0 0 1 0-.176l-.708-.707a1.124 1.124 0 0 0 0 1.59l.708-.707zm.176 0a.125.125 0 0 1-.176 0l-.708.707c.44.44 1.152.44 1.592 0l-.708-.707zm3.933-3.933-3.933 3.933.708.707 3.933-3.933-.708-.707zm4.64 3.933-3.932-3.933-.708.707 3.933 3.934.708-.708zm.177 0a.125.125 0 0 1-.176 0l-.707.707c.439.44 1.151.44 1.59 0l-.707-.707zm0-.176a.125.125 0 0 1 0 .176l.707.707c.44-.439.44-1.151 0-1.59l-.707.707zm-3.933-3.933 3.933 3.933.707-.707-3.933-3.934-.707.708zm3.933-4.64-3.933 3.932.707.708 3.934-3.933-.708-.708zm0-.177a.125.125 0 0 1 0 .176l.707.708c.44-.44.44-1.152 0-1.591l-.707.707zm-.176 0a.125.125 0 0 1 .176 0l.707-.708a1.125 1.125 0 0 0-1.59 0l.707.708zm-3.933 3.933 3.933-3.933-.707-.708-3.934 3.934.708.707zm-4.64-3.933 3.932 3.933.708-.707L9.42 7.83l-.708.707zm-.177 0a.125.125 0 0 1 .176 0l.708-.708a1.125 1.125 0 0 0-1.591 0l.707.708z"}))))};var h;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}const f=function(e){return r.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:16,height:14,fill:"none"},e),h||(h=r.createElement("path",{fill:"#ffbe03",fillRule:"evenodd",d:"M6.257 1.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H2.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM8 3a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0V4a1 1 0 0 0-1-1z",clipRule:"evenodd"})))},_=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,o={setState:r,getState:s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,s,o),o};var v=n(798);const{useSyncExternalStoreWithSelector:m}=v;let y=!1;const b=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?_(e):_)(e):e,n=(e,n)=>function(e,t=e.getState,n){n&&!y&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),y=!0);const s=m(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,r.useDebugValue)(s),s}(t,e,n);return Object.assign(n,t),n};var x=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,o=t.length;s<o;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},w=function(e){return{notices:[],clearNotices:function(){return e({notices:[]})},addNotice:function(t){return e((function(e){return{notices:x(x([],e.notices,!0),[t],!1)}}))},setNotice:function(t){return e({notices:[t]})},setErrorNotice:function(t){return e({notices:[{type:"error",message:t}]})},setSuccessNotice:function(t){return e({notices:[{type:"success",message:t}]})}}},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},j.apply(this,arguments)},k=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},E=window.gpgs_settings_strings;E||(E=window.gpgs_settings_plugin_strings);var N=function(e,t){return{spreadsheets:{},sheets:{},fetchSpreadsheets:function(n){return k(void 0,void 0,void 0,(function(){var r,s,o;return S(this,(function(a){switch(a.label){case 0:return[4,jQuery.get(E.ajax_url,{action:"gpgs_get_spreadsheets",_ajax_nonce:E.nonce,google_email:n})];case 1:return(r=a.sent()).success?(e({spreadsheets:j(j({},t().spreadsheets),(o={},o[n]=r.data.spreadsheets,o))}),[2]):(e({spreadsheets:j(j({},t().spreadsheets),(s={},s[n]=r.data.message,s))}),[2])}}))}))},refetchSpreadsheets:function(n){return k(void 0,void 0,void 0,(function(){var r;return S(this,(function(s){switch(s.label){case 0:return e({spreadsheets:j(j({},t().spreadsheets),(r={},r[n]=void 0,r))}),[4,t().fetchSpreadsheets(n)];case 1:return s.sent(),[2]}}))}))},fetchSheets:function(n){return k(void 0,void 0,void 0,(function(){var r,s,o;return S(this,(function(a){switch(a.label){case 0:return[4,jQuery.post(E.ajax_url,{action:"gpgs_get_sheets",_ajax_nonce:E.nonce,spreadsheet_id:n})];case 1:return(r=a.sent()).success?(e({sheets:j(j({},t().sheets),(o={},o[n]=r.data.sheets,o))}),[2]):(e({sheets:j(j({},t().sheets),(s={},s[n]=r.data.message,s))}),[2])}}))}))}}},A=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},T=window.gpgs_settings_plugin_strings,O=function(e,t){return{issues:void 0,issuesError:void 0,scanIssues:function(){return A(void 0,void 0,void 0,(function(){var t,n;return P(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,jQuery.get(T.ajax_url,{action:"gpgs_scan_issues",_ajax_nonce:T.nonce})];case 1:return(t=r.sent()).success?(e({issuesError:void 0,issues:t.data.issues}),[3,3]):(e({issuesError:t.data.message,issues:[]}),[2]);case 2:return(n=r.sent()).status>=400?(e({issuesError:(0,a.sprintf)((0,a.__)("An error occurred while scanning for issues. Please try again. If the problem persists, please contact support. Error: %s","gp-google-sheets"),n.statusText),issues:[]}),[2]):(e({issuesError:(0,a.__)("An unknown error occurred while scanning for issues. Please try again. If the problem persists, please contact support.","gp-google-sheets"),issues:[]}),[3,3]);case 3:return[2]}}))}))},rescanIssues:function(){return A(void 0,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return e({issues:void 0,issuesError:void 0}),[4,t().scanIssues()];case 1:return n.sent(),[2]}}))}))}}};const z=window.jQuery;var G=n.n(z);function I(e){var t=e.ms,n=void 0===t?1e3:t,r=e.itemKey,s=e.handleItem,o=setInterval((function(){var e=localStorage.getItem(r);e&&(clearInterval(o),s(e))}),n)}function F(e){var t=e.oAuthServiceUrl,n=e.inputs,r=e.id,s=void 0===r?"gpgs_oauth_form":r;G()('<form\n\t\t\tid="'.concat(s,'"\n\t\t\taction="').concat(t,'"\n\t\t\tmethod="POST"\n\t\t\ttarget="tab"\n\t\t>\n\t\t\t').concat(n.map((function(e){var t=e[0],n=e[1].replace(/"/g,"&quot;");return'<input type="hidden" name="'.concat(t,'" value="').concat(n,'">')})),"\n\t\t</form>")).appendTo("body").submit()}function D(e){var t=e.strings,n=e.showErrorMessage,r=e.onDataFound,s=e.actionHandlerName,o="".concat(t.gwiz_oauth_service_url,"/oauth/google"),a=Math.random().toString(36).substring(2,15),i={oauth_random_string:a,oauth_validation_token:t.oauth_validation_token,user_id:t.user_id};F({oAuthServiceUrl:o,inputs:[["licenseId",t.gravity_perks_license_id],["licenseHash",t.gravity_perks_license_hash],["redirectUrl","".concat(t.ajax_url,"?action=").concat(s)],["perkId",t.slug],["siteUrl",t.site_url],["state",JSON.stringify(i)]]});var c="".concat("gpgs_google_oauth_data","_").concat(a);I({itemKey:c,handleItem:function(e){localStorage.removeItem(c);var t=JSON.parse(e);"0"!==t.success&&t.token?r(t):n(t.message)}})}var L=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n,r,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},M=window.gpgs_settings_plugin_strings,U=function(e,t){return{tokens:void 0,tokensError:null,fetchTokens:function(){return L(void 0,void 0,void 0,(function(){var t,n,r;return R(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,jQuery.get(M.ajax_url,{action:"gpgs_google_accounts",_ajax_nonce:M.nonce})];case 1:return(t=s.sent()).success?((n=t.data.token_data).sort((function(e,t){return null===e.userDisplayName?1:null===t.userDisplayName?-1:0})),e({tokens:n,tokensError:null}),[3,3]):(e({tokensError:t.data.message,tokens:void 0}),[2]);case 2:return(r=s.sent()).status>=400?(e({tokensError:(0,a.sprintf)((0,a.__)("An error occurred while listing accounts. Please try again. If the problem persists, please contact support. Error: %s","gp-google-sheets"),r.statusText),tokens:void 0}),[2]):(e({tokensError:(0,a.__)("An unknown error occurred while listing accounts. Please try again. If the problem persists, please contact support.","gp-google-sheets"),tokens:void 0}),[3,3]);case 3:return[2]}}))}))},refetchTokens:function(){return L(void 0,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return e({tokens:void 0,tokensError:null}),[4,t().fetchTokens()];case 1:return n.sent(),[2]}}))}))},deleteGoogleAccount:function(e){return L(void 0,void 0,void 0,(function(){var n,r,s,o;return R(this,(function(i){switch(i.label){case 0:n=(0,a.__)("An unknown error occurred while removing the account from GP Google Sheets. Please try again. If the problem persists, please contact support.","gp-google-sheets"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,jQuery.post(M.ajax_url,{action:"gpgs_delete_google_account",_ajax_nonce:M.nonce,account_id:e})];case 2:return(r=i.sent()).success?(t().setSuccessNotice((0,a.__)("Successfully removed Google Account from GP Google Sheets.","gp-google-sheets")),t().refetchTokens(),t().rescanIssues(),[3,4]):(t().setErrorNotice(null!==(o=r.data.message)&&void 0!==o?o:n),[2]);case 3:return(s=i.sent()).status>=400?(t().setErrorNotice((0,a.sprintf)((0,a.__)("An error occurred while removing the account from GP Google Sheets. Please try again. If the problem persists, please contact support. Error: %s","gp-google-sheets"),s.statusText)),[2]):(t().setErrorNotice(n),[3,4]);case 4:return[2]}}))}))},reconnectAccount:function(){D({showErrorMessage:t().setErrorNotice,strings:M,onDataFound:function(e){e.token?(t().setSuccessNotice((0,a.__)("Successfully reconnected to Google Sheets!","gp-google-sheets")),t().refetchTokens(),t().rescanIssues()):t().setErrorNotice((0,a.__)("Failed to get token for Google Account. Please try again.","gp-google-sheets"))},actionHandlerName:"gpgs_plugin_settings_oauth_callback"})}}},C=window.gpgs_settings_strings;C||(C=window.gpgs_settings_plugin_strings);var H,V=function(e,t){return{googleAccounts:void 0,fetchGoogleAccounts:function(){return t=void 0,n=void 0,s=function(){var t;return function(e,t){var n,r,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,jQuery.get(C.ajax_url,{action:"gpgs_get_google_accounts",_ajax_nonce:C.nonce})];case 1:return(t=n.sent()).success?(e({googleAccounts:t.data.google_accounts}),[3,3]):(e({googleAccounts:[]}),[2]);case 2:return n.sent().status>=400&&e({googleAccounts:[]}),[3,3];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,o){function a(e){try{c(s.next(e))}catch(e){o(e)}}function i(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,i)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},addGoogleAccount:function(){return new Promise((function(e,n){D({showErrorMessage:function(e){t().setErrorNotice(e),n(new Error(e))},strings:C,onDataFound:function(n){var r=n.token;r?(t().setSuccessNotice((0,a.__)("Successfully added new Google Account!","gp-google-sheets")),e(r)):t().setErrorNotice((0,a.__)("Failed to get token. Please try again.","gp-google-sheets"))},actionHandlerName:"gpgs_plugin_settings_oauth_callback"})}))}}},Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Q.apply(this,arguments)},W=function(e){var t=e;t.use={};for(var n=function(e){t.use[e]=function(){return t((function(t){return t[e]}))}},r=0,s=Object.keys(t.getState());r<s.length;r++)n(s[r]);return t}((H=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Q(Q(Q(Q(Q({},U.apply(void 0,e)),V.apply(void 0,e)),w.apply(void 0,e)),N.apply(void 0,e)),O.apply(void 0,e))})?b(H):b);const B=function(t){var n=t.accountId,r=W.use.deleteGoogleAccount();return(0,e.jsx)("button",{id:"gpgs_delete_account",className:"button button-secondary button-danger",onClick:function(e){return t=void 0,s=void 0,i=function(){return function(e,t){var n,r,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(t){switch(t.label){case 0:return e.preventDefault(),confirm((0,a.__)("Are you sure you want to delete this Google Account?","gp-google-sheets"))?[4,r(n)]:[2];case 1:return t.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function r(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,a)}c((i=i.apply(t,s||[])).next())}));var t,s,o,i},children:(0,a.__)("Delete","gp-google-sheets")})},q=function(){var t=W.use.reconnectAccount();return(0,e.jsx)("button",{id:"gpgs_reconnect_token",className:"button button-secondary",onClick:function(e){t(),e.preventDefault()},children:(0,a.__)("Reconnect","gp-google-sheets")})};var J=window.gpgs_settings_strings;J||(J=window.gpgs_settings_plugin_strings);const K=function(t){var n=t.doesNotHaveLicense,r=t.onSelection,s=t.onError,o=t.token;return(0,e.jsxs)("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center"},children:[(0,e.jsx)("button",{className:"button",id:"gp-google-sheets-add-spreadsheet",disabled:n,onClick:function(e){e.preventDefault(),function(e){var t=e.token,n=e.showErrorMessage,r=e.onDataFound,s=e.strings,o=Math.random().toString(36).substring(2,15),i={oauth_random_string:o,oauth_validation_token:s.oauth_validation_token,user_id:s.user_id};F({oAuthServiceUrl:"".concat(s.gwiz_oauth_service_url,"/google/file-picker"),inputs:[["postUrl","".concat(s.ajax_url,"?action=gpgs_picker_callback")],["accessToken",t.access_token],["state",JSON.stringify(i)]],id:"gpgs-google-sheet-picker"});var c="".concat("gpgs_google_picker_data","_").concat(o);I({itemKey:c,handleItem:function(e){localStorage.removeItem(c);var t=JSON.parse(e);"0"!==t.success&&t.sheet_url?r(t):n(t.message||(0,a.__)("Error picking spreadsheet.","gp-google-sheets"))}})}({token:o,showErrorMessage:s,onDataFound:r,strings:J})},style:{marginRight:".5rem"},children:(0,a.__)("Add Spreadsheet","gp-google-sheets")}),n&&(0,e.jsx)("span",{style:{alignSelf:"center",marginLeft:".5rem"},dangerouslySetInnerHTML:{__html:(0,a.__)('Connecting to Google Sheets requires a valid <a href="https://gravitywiz.com/pricing" target="_blank">Gravity Perks license</a>.',"gp-google-sheets")}})]})};var Z=window.gpgs_settings_plugin_strings;const $=function(t){var n,s=t.googleAccount,o=t.visible,i=W((function(e){var t;return null===(t=e.spreadsheets)||void 0===t?void 0:t[s.googleEmail]})),c=W.use.rescanIssues(),l=W.use.refetchSpreadsheets(),u=W.use.setErrorNotice(),g=W.use.setSuccessNotice(),d=W.use.fetchSpreadsheets();return(0,r.useEffect)((function(){o&&void 0===i&&d(s.googleEmail)}),[d,s.googleEmail,o,i]),n=void 0===i?(0,e.jsx)("p",{style:{marginTop:"1rem"},children:(0,a.__)("Loading spreadsheets…","gp-google-sheets")}):0===i.length?(0,e.jsx)("p",{style:{marginTop:"1rem"},children:(0,a.__)("No spreadsheets found.","gp-google-sheets")}):"string"==typeof i?(0,e.jsx)("p",{style:{margin:"1rem 0"},children:i}):(0,e.jsx)("ul",{style:{marginTop:"1rem"},children:i.map((function(t){return(0,e.jsx)("li",{children:(0,e.jsxs)("a",{href:t.webViewLink,target:"_blank",rel:"noreferrer",children:[(0,e.jsx)("span",{className:"dashicons dashicons-media-spreadsheet",style:{textDecoration:"none",marginRight:".25rem"}}),t.name]})},t.webViewLink)}))}),(0,e.jsx)("tr",{className:"gpgs-token-spreadsheets gpgs_border_top",style:{display:o?"table-row":"none"},children:(0,e.jsxs)("td",{colSpan:6,className:"gpgs_light_grey_background",children:[(0,e.jsx)("p",{children:(0,a.__)("The following spreadsheets are available when selecting this account for use in feeds or in fields being populated by Populate Anything using the Google Sheets Object Type.")}),n,s.isLegacyToken&&(0,e.jsx)("p",{style:{margin:"1rem 0"},children:(0,a.__)("Additional spreadsheets cannot be added to Google Accounts connected using a legacy token.")}),!s.isLegacyToken&&(0,e.jsx)(K,{onError:u,onSelection:function(){g((0,a.__)("Spreadsheet added.","gp-google-sheets")),l(s.googleEmail),c()},token:s.token,doesNotHaveLicense:!s.tokenIsHealthy&&!Z.gravity_perks_license_id})]})})};var Y=window.gpgs_settings_plugin_strings;const X=function(t){var n=t.googleAccount,r=t.visible,s=n.connectedFeeds;return(0,e.jsx)("tr",{className:"gpgs-token-feeds gpgs_border_top",style:{display:r?"table-row":"none"},children:(0,e.jsx)("td",{colSpan:6,className:"gpgs_light_grey_background",children:(0,e.jsxs)("table",{className:"gform-table gform-table--responsive gform-table--no-outer-border gpgs_light_grey_background gpgs_token_connected_feed_table",children:[(0,e.jsx)("thead",{className:"gpgs_border_bottom",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,a.__)("Form","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Feed","gp-google-sheets")})]})}),(0,e.jsx)("tbody",{children:null==s?void 0:s.filter((function(e){var t=e.form_title,n=e.feed_name;return t&&n})).map((function(t){var n=t.form_title,r=t.feed_name,s=t.feed_url,o=t.form_id;return(0,e.jsxs)("tr",{className:"gpgs_token_connected_feed_list_row",children:[(0,e.jsx)("td",{children:(0,e.jsx)("a",{href:"".concat(Y.admin_url,"?page=gf_edit_forms&id=").concat(o),target:"_blank",rel:"noreferrer",children:n})}),(0,e.jsx)("td",{children:(0,e.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:r})})]},s)}))})]})})})},ee=function(t){var n=t.googleAccount,s=(0,r.useState)(!1),o=s[0],i=s[1],c=(0,r.useState)(!1),u=c[0],g=c[1],h=n.tokenIsHealthy,p=n.googleEmail,_=n.accountId,v=n.connectedFeeds,m=n.userDisplayName,y=n.userEditLink,b=n.isLegacyToken,x=(0,e.jsx)("td",{className:"gpgs_google_account_user_display_name",children:(0,e.jsx)("a",{href:y,children:m})});return null===m&&(x=(0,e.jsx)("td",{className:"gpgs_google_account_user_display_name",children:"–"}),b&&(x=(0,e.jsx)("td",{className:"gpgs_google_account_user_display_name",children:(0,e.jsxs)("span",{className:"gpgs_token_legacy_token_warning",children:[(0,e.jsx)(f,{}),(0,a.__)("Legacy Token","gp-google-sheets")]})}))),(0,e.jsxs)(r.Fragment,{children:[(0,e.jsxs)("tr",{className:"",children:[(0,e.jsx)("td",{className:"gpgs_google_account_status",children:h?(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)(l,{}),(0,e.jsx)("span",{className:"screen-reader-text",children:(0,a.__)("Connected","gp-google-sheets")})]}):(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)(d,{}),(0,e.jsx)("span",{className:"screen-reader-text",children:(0,a.__)("Disconnected","gp-google-sheets")})]})}),x,(0,e.jsx)("td",{className:"gpgs_google_account_google_email",children:p||"–"}),(0,e.jsx)("td",{className:"gpgs_google_account_connected_feeds",children:(null==v?void 0:v.length)?(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)("button",{className:"gpgs_token_toggle_feeds button-link",onClick:function(e){e.preventDefault(),i(!o)},children:o?(0,a.__)("Hide Feeds","gp-google-sheets"):(0,a.__)("Show Feeds","gp-google-sheets")})," ","(",v.length,")"]}):""}),(0,e.jsxs)("td",{className:"gpgs_google_account_spreadsheets",children:[h&&!b&&(0,e.jsx)("button",{className:"gpgs_token_toggle_spreadsheets button-link",onClick:function(e){e.preventDefault(),g(!u)},children:u?(0,a.__)("Hide Spreadsheets","gp-google-sheets"):(0,a.__)("Show Spreadsheets","gp-google-sheets")}),b&&"–"]}),(0,e.jsxs)("td",{className:"gpgs_google_account_actions",children:[h||b?void 0:(0,e.jsx)(q,{}),(0,e.jsx)(B,{accountId:_})]})]}),(0,e.jsx)(X,{googleAccount:n,visible:o}),(0,e.jsx)($,{googleAccount:n,visible:u})]})};const te=function(){var t=W.use.addGoogleAccount(),n=W.use.refetchTokens(),r=W.use.rescanIssues();return(0,e.jsx)("button",{id:"gpgs_add_account",className:"button button-secondary",onClick:function(e){return s=void 0,o=void 0,i=function(){return function(e,t){var n,r,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(s){switch(s.label){case 0:e.preventDefault(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t()];case 2:return s.sent(),n(),r(),[3,4];case 3:return s.sent(),[3,4];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(i.next(e))}catch(e){t(e)}}function r(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var s;t.done?e(t.value):(s=t.value,s instanceof a?s:new a((function(e){e(s)}))).then(n,r)}c((i=i.apply(s,o||[])).next())}));var s,o,a,i},children:(0,a.__)("Add Google Account","gp-google-sheets")})},ne=function(){var t=W.use.fetchTokens(),n=W.use.tokens(),s=W.use.tokensError();if((0,r.useEffect)((function(){t()}),[t]),s)return(0,e.jsx)(o,{title:(0,a.__)("Google Accounts","gp-google-sheets"),id:"gpgs-token-health",children:(0,e.jsx)("div",{className:"error",children:s})});if(void 0===n)return(0,e.jsx)(o,{title:(0,a.__)("Google Accounts","gp-google-sheets"),id:"gpgs-token-health",children:(0,a.__)("Loading…","gp-google-sheets")});var i=(0,e.jsxs)("table",{className:"gform-table gform-table--responsive gform-table--no-outer-border gform-table--token-health",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{}),(0,e.jsx)("th",{children:(0,a.__)("User","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Google Email","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Feeds","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Spreadsheets","gp-google-sheets")}),(0,e.jsx)("th",{})]})}),(0,e.jsx)("tbody",{children:n.map((function(t){return(0,e.jsx)(ee,{googleAccount:t},"".concat(t.googleEmail,"-").concat(t.userEditLink))}))})]});return(0,e.jsxs)(o,{title:(0,a.__)("Google Accounts","gp-google-sheets"),id:"gpgs-token-health",children:[i,(0,e.jsx)("p",{children:(0,e.jsx)(te,{})})]})};var re=window.gpgs_settings_plugin_strings;const se=function(){return!re.gppa_installed&&!re.show_gppa_integration||re.gppa_activated?null:(t=re.gppa_installed?(0,e.jsx)("a",{className:"button gpgs-manage-perk",style:{marginRight:"0.5rem"},href:re.activate_gppa_url,children:(0,a.__)("Activate Populate Anything","gp-google-sheets")}):re.has_available_perks?(0,e.jsx)("a",{className:"button gpgs-manage-perk",style:{marginRight:"0.5rem"},href:re.install_gppa_url,children:(0,a.__)("Install Populate Anything","gp-google-sheets")}):(0,e.jsx)("a",{className:"button gpgs-manage-perk",style:{marginRight:"0.5rem"},href:re.upgrade_license_url,children:(0,a.__)("Upgrade License","gp-google-sheets")}),(0,e.jsxs)(o,{title:"GP Populate Anything",id:"gppa-integration",children:[(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsx)("strong",{children:(0,a.__)("Want to populate data from Google Sheets into your forms?","gp-google-sheets")})}),(0,e.jsx)("p",{children:(0,a.__)("Populate Anything pulls data directly from Google Sheets into Gravity Forms field choices that users can select, or, as values — for calculations, conditional logic, or as defaults. Filter Google Sheets data live on your form based on conditions you set, or, dynamically with user input. Basically, your favorite Populate Anything features, but with data from Google Sheets.","gp-google-sheets")}),(0,e.jsx)("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center"},children:t})]}));var t},oe=window.ReactDOM,ae=function(t){var n=t.notices,r=document.getElementById("gf-admin-notices-wrapper");if(!r)return null;var o=function(t){var n=t.notice;return(0,e.jsx)("div",{className:"notice notice-".concat(n.type," gf-notice"),children:(0,e.jsx)("p",{children:n.message})})},a=(0,e.jsx)(s().Fragment,{children:n.map((function(t,n){return(0,e.jsx)(o,{notice:t},n)}))});return(0,oe.createPortal)(a,r)};var ie=window.gpgs_settings_plugin_strings,ce=function(e){if(!e)return"";var t;switch(e){case"missing_spreadsheet":t=(0,a.__)("No spreadsheet selected.","gp-google-sheets");break;case"spreadsheet_not_accessible":t=(0,a.__)("Spreadsheet not accessible.","gp-google-sheets");break;default:t=(0,a.__)("Unknown error.","gp-google-sheets")}return t};const le=function(){var t=W.use.scanIssues(),n=W.use.issues(),s=W.use.issuesError();(0,r.useEffect)((function(){t()}),[t]);var i,c=null==n?void 0:n.some((function(e){return"feed"===e.type})),u=null==n?void 0:n.some((function(e){return"gppa_object_type"===e.type}));return i=s?(0,e.jsx)("div",{className:"error",children:s}):void 0===n?(0,e.jsx)("p",{children:(0,a.__)("Scanning…","gp-google-sheets")}):0===n.length?(0,e.jsxs)("p",{style:{display:"flex",alignItems:"center",gap:"0.875rem",margin:"0"},children:[(0,e.jsx)(l,{})," ",(0,a.__)("No issues found.","gp-google-sheets")]}):(0,e.jsxs)(r.Fragment,{children:[c&&(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)("h3",{children:(0,a.__)("Feeds","gp-google-sheets")}),(0,e.jsx)("p",{style:{marginTop:"calc( 0.875rem / 2 )"},children:(0,a.__)("The following GP Google Sheets feeds are experiencing issues accessing their configured spreadsheet.","gp-google-sheets")}),(0,e.jsxs)("table",{className:"gform-table gform-table--responsive",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,a.__)("Form","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Feed","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Spreadsheet","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Error","gp-google-sheets")})]})}),(0,e.jsx)("tbody",{children:n.map((function(t,n){if("feed"!==t.type)return null;var r=ce(t.code);return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("a",{href:t.formUrl,target:"_blank",rel:"noreferrer",children:t.formTitle})}),(0,e.jsx)("td",{children:(0,e.jsx)("a",{href:t.feedUrl,target:"_blank",rel:"noreferrer",children:t.feedName})}),(0,e.jsx)("td",{children:t.spreadsheetUrl?(0,e.jsx)("a",{href:t.spreadsheetUrl,target:"_blank",rel:"noreferrer",children:(0,a.__)("Open Spreadsheet","gp-google-sheets")}):(0,e.jsx)("span",{children:"–"})}),(0,e.jsx)("td",{children:r})]},n)}))})]})]}),ie.gppa_activated&&u&&(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)("h3",{style:{marginTop:"1.5rem"},children:(0,a.__)("Form Fields","gp-google-sheets")}),(0,e.jsx)("p",{style:{marginTop:"calc( 0.875rem / 2 )"},children:(0,a.__)("The following form fields are populated from Google Sheets via GP Populate Anything and experiencing issues accessing the configured spreadsheet.","gp-google-sheets")}),(0,e.jsxs)("table",{className:"gform-table gform-table--responsive",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,a.__)("Form","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Field","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Spreadsheet","gp-google-sheets")}),(0,e.jsx)("th",{children:(0,a.__)("Error","gp-google-sheets")})]})}),(0,e.jsx)("tbody",{children:n.map((function(t,n){if("gppa_object_type"!==t.type)return null;var r=ce(t.code);return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,e.jsx)("a",{href:t.formUrl,target:"_blank",rel:"noreferrer",children:t.formTitle})}),(0,e.jsxs)("td",{children:[t.fieldLabel," (","values"===t.populate?(0,a.__)("Values","gp-google-sheets"):(0,a.__)("Choices","gp-google-sheets"),")"]}),(0,e.jsx)("td",{children:t.spreadsheetUrl?(0,e.jsx)("a",{href:t.spreadsheetUrl,target:"_blank",rel:"noreferrer",children:(0,a.__)("Open Spreadsheet","gp-google-sheets")}):(0,e.jsx)("span",{children:"–"})}),(0,e.jsx)("td",{children:r})]},n)}))})]})]})]}),(0,e.jsx)(o,{title:"Issues",id:"issues",children:i})};var ue=window.gpgs_settings_plugin_strings;const ge=function(){return ue.purge_action_scheduler_url&&ue.show_danger_zone?(0,e.jsxs)(o,{title:"Danger Zone",id:"danger-zone",children:[(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsx)("strong",{style:{color:"red"},children:(0,a.__)("Danger Zone! Make sure you know what you're doing here.","gp-google-sheets")})}),(0,e.jsx)("p",{children:(0,e.jsx)("button",{onClick:function(e){if(e.preventDefault(),confirm((0,a.__)("Are you sure you want to purge all uncomplete GP Google Sheets actions?\n\nIf entries are not already in Google Sheets, you will need to reprocess the feeds to sync these entries.","gp-google-sheets"))){var t=ue.purge_action_scheduler_url.replace(/TIMESTAMP_PLACEHOLDER/,Math.floor(Date.now()/1e3).toString());window.location=t}},className:"button button-secondary",children:(0,a.__)("Purge Action Scheduler","gp-google-sheets")})})]}):null},de=function(){var t=W.use.notices();return(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)(ae,{notices:t}),(0,e.jsx)(ne,{}),(0,e.jsx)(le,{}),(0,e.jsx)(se,{}),(0,e.jsx)(ge,{})]})};var he=document.getElementById("gform-settings");"function"==typeof t.createRoot?(0,t.createRoot)(he).render((0,e.jsx)(de,{})):(0,t.render)((0,e.jsx)(de,{}),he)})()})();
//# sourceMappingURL=gp-google-sheets-settings-global.js.map