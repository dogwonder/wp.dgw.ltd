/*! For license information please see gp-google-sheets-settings-feed.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={251:(e,t,n)=>{var r=n(196),o=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,c={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!a.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:l,props:c,_owner:i.current}}t.jsx=c,t.jsxs=c},893:(e,t,n)=>{e.exports=n(251)},833:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$_:()=>updateColumnMappingSection,fh:()=>disableColumnMappingSection,p0:()=>enableColumnMappingSection});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(567),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),__assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__assign.apply(this,arguments)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},strings=window.gpgs_settings_strings;function disableSettingsSection(e){jquery__WEBPACK_IMPORTED_MODULE_0___default()(e).addClass("gpgs-disabled-settings-section").attr("inert","true")}function enableSettingsSection(e){jquery__WEBPACK_IMPORTED_MODULE_0___default()(e).removeClass("gpgs-disabled-settings-section").removeAttr("inert")}function disableColumnMappingSection(){disableSettingsSection("#gform-settings-section-column-mapping")}function enableColumnMappingSection(){enableSettingsSection("#gform-settings-section-column-mapping")}function updateColumnMappingSection(variant,args){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,new Promise((function(resolve,reject){jQuery.get(strings.ajax_url,__assign({action:"gpgs_get_column_mappings_html",_ajax_nonce:strings.nonce,id:strings.form_id,feed_id:strings.feed_id,variant},args?{sheet_data:args.sheetId,sheet_url:args.sheetUrl,sheet_name:args.sheetName}:{})).done((function(response){response.success||(enableColumnMappingSection(),reject(new Error(response.data.message||"Failed to get column mappings.")));var matches=response.data.controlsHTML.match(/<script type=\"text\/javascript\">(.+)<\/script>/);if(!(null==matches?void 0:matches.length))return resolve();var controlsHTML=response.data.controlsHTML.replace(matches[0],"");jquery__WEBPACK_IMPORTED_MODULE_0___default()("#gform_setting_column_mapping").html(controlsHTML),enableColumnMappingSection(),response.data.alertMessage&&alert(response.data.alertMessage);try{eval(matches[1]),resolve()}catch(e){console.warn(e),reject(new Error("Failed to initialize column mapping section."))}})).fail((function(e,t,n){enableColumnMappingSection();var r=e.responseText||n;reject(new Error("Column mapping request failed with status ".concat(e.status,": ").concat(r)))}))}))]}))}))}},250:(e,t,n)=>{var r=n(196),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,i=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return a((function(){o.value=n,o.getSnapshot=t,u(o)&&l({inst:o})}),[e,n,t]),i((function(){return u(o)&&l({inst:o}),e((function(){u(o)&&l({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:(e,t,n)=>{var r=n(196),o=n(688),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,a=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=a(null);if(null===d.current){var g={hasValue:!1,value:null};d.current=g}else g=d.current;d=u((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&g.hasValue){var t=g.value;if(o(t,e))return a=t}return a=e}if(t=a,s(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,a=n)}var i,a,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,o]);var f=i(e,d[0],d[1]);return c((function(){g.hasValue=!0,g.value=f}),[f]),l(f),f}},688:(e,t,n)=>{e.exports=n(250)},798:(e,t,n)=>{e.exports=n(139)},196:e=>{e.exports=window.React},567:e=>{e.exports=window.jQuery}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{var e=__webpack_require__(893);const t=window.wp.element;var n=__webpack_require__(196),r=__webpack_require__.n(n);const o=window.wp.i18n,s=function(t){var r=t.content;return(0,n.useEffect)((function(){window.gform_initialize_tooltips()}),[]),(0,e.jsx)("button",{onClick:function(e){e.preventDefault()},onKeyPress:function(e){e.preventDefault()},className:"gf_tooltip tooltip ","aria-label":r,children:(0,e.jsx)("i",{className:"gform-icon gform-icon--question-mark","aria-hidden":"true"})})},i=function(t){var n=t.name,r=t.label,i=t.value,a=t.required,c=t.tooltip,u=t.options,l=t.placeholder,d=t.disabled,g=t.onChange;return(0,e.jsxs)("div",{id:"gform_setting_".concat(n),className:"gform-settings-field gform-settings-field__select",children:[(0,e.jsxs)("div",{className:"gform-settings-field__header",children:[(0,e.jsxs)("label",{className:"gform-settings-label",htmlFor:n,children:[r,a&&(0,e.jsxs)("span",{className:"required",children:["(",(0,o.__)("Required"),")"]})]})," ",c&&(0,e.jsx)(s,{content:c})]}),(0,e.jsx)("span",{className:"gform-settings-input__container",children:(0,e.jsxs)("select",{name:"_gform_setting_".concat(n),required:a,id:n,value:i,disabled:d,onChange:function(e){return g(e.target.value)},children:[l&&(0,e.jsx)("option",{value:"",disabled:!0,children:l}),u.map((function(t){return"options"in t?(0,e.jsx)("optgroup",{label:t.text,children:t.options.map((function(t){return(0,e.jsx)("option",{value:t.value,children:t.text},t.value)}))},t.text):(0,e.jsx)("option",{value:t.value,children:t.text},t.value)}))]})})]})},a=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,s={setState:r,getState:o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,o,s),s};var c=__webpack_require__(798);const{useSyncExternalStoreWithSelector:u}=c;let l=!1;const d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?a(e):a)(e):e,r=(e,r)=>function(e,t=e.getState,r){r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);const o=u(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,n.useDebugValue)(o),o}(t,e,r);return Object.assign(r,t),r};var g=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=function(e){return{notices:[],clearNotices:function(){return e({notices:[]})},addNotice:function(t){return e((function(e){return{notices:g(g([],e.notices,!0),[t],!1)}}))},setNotice:function(t){return e({notices:[t]})},setErrorNotice:function(t){return e({notices:[{type:"error",message:t}]})},setSuccessNotice:function(t){return e({notices:[{type:"success",message:t}]})}}},p=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},h=window.gpgs_settings_strings,v=function(e,t){var n,r,s;return{isDisconnecting:!1,googleAccount:void 0,connected:!!(null===(n=document.querySelector("input#google_sheet_url"))||void 0===n?void 0:n.value),googleSheetUrl:null===(r=document.querySelector("input#google_sheet_url"))||void 0===r?void 0:r.value,googleSpreadsheetId:void 0,googleSheetId:null===(s=document.querySelector("input#google_sheet_id"))||void 0===s?void 0:s.value,googleSpreadsheetName:h.spreadsheet_name,googleSheetName:h.sheet_name,googleErrorMessage:h.error_message,disconnectFeed:function(){return p(void 0,void 0,void 0,(function(){var n,r;return _(this,(function(s){switch(s.label){case 0:if(t().isDisconnecting)return[2];t().clearNotices(),e({isDisconnecting:!0}),n=(0,o.__)("An error occurred while disconnecting this feed.","gp-google-sheets"),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,jQuery.post(h.ajax_url,{action:"gpgs_disconnect",_ajax_nonce:h.nonce,form_id:h.form_id,feed_id:h.feed_id})];case 2:return s.sent().success?(e({googleSheetUrl:void 0,connected:!1,googleSpreadsheetId:void 0,googleSheetId:void 0,googleSpreadsheetName:void 0,googleSheetName:void 0}),t().setSuccessNotice((0,o.__)("Successfully disconnected feed.","gp-google-sheets")),[3,5]):(t().setErrorNotice(n),[2]);case 3:return(r=s.sent()).status>=400?(t().setErrorNotice((0,o.sprintf)((0,o.__)("An error occurred while disconnecting this feed. Please try again. If the problem persists, please contact support. Error: %s","gp-google-sheets"),r.statusText)),[2]):(t().setErrorNotice(n),[3,5]);case 4:return e({isDisconnecting:!1}),[7];case 5:return[2]}}))}))},setGoogleAccount:function(n){e({googleAccount:n,googleSpreadsheetId:void 0,googleSheetId:void 0}),t().fetchSpreadsheets(n)},setGoogleSpreadsheetId:function(n){return p(void 0,void 0,void 0,(function(){var r,o,s,i,a,c;return _(this,(function(u){switch(u.label){case 0:return e({googleSpreadsheetId:n,googleSheetId:void 0}),n&&"add"!==n&&"select"!==n?[4,t().fetchSheets(n)]:[2];case 1:return u.sent(),(r=t().sheets[n])?((o=Object.values(r).find((function(e){return"Sheet1"===e.title})))&&e({googleSheetId:o.id}),(s=t().googleAccount)&&(i=null===(a=t().spreadsheets)||void 0===a?void 0:a[s])&&"string"!=typeof i?(e({googleSheetUrl:null===(c=i.find((function(e){return e.id===n})))||void 0===c?void 0:c.webViewLink}),[2]):[2]):[2]}}))}))},setGoogleSheetId:function(t){e({googleSheetId:t})}}},m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},b=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},w=window.gpgs_settings_strings;w||(w=window.gpgs_settings_plugin_strings);var x=function(e,t){return{spreadsheets:{},sheets:{},fetchSpreadsheets:function(n){return b(void 0,void 0,void 0,(function(){var r,o,s;return y(this,(function(i){switch(i.label){case 0:return[4,jQuery.get(w.ajax_url,{action:"gpgs_get_spreadsheets",_ajax_nonce:w.nonce,google_email:n})];case 1:return(r=i.sent()).success?(e({spreadsheets:m(m({},t().spreadsheets),(s={},s[n]=r.data.spreadsheets,s))}),[2]):(e({spreadsheets:m(m({},t().spreadsheets),(o={},o[n]=r.data.message,o))}),[2])}}))}))},refetchSpreadsheets:function(n){return b(void 0,void 0,void 0,(function(){var r;return y(this,(function(o){switch(o.label){case 0:return e({spreadsheets:m(m({},t().spreadsheets),(r={},r[n]=void 0,r))}),[4,t().fetchSpreadsheets(n)];case 1:return o.sent(),[2]}}))}))},fetchSheets:function(n){return b(void 0,void 0,void 0,(function(){var r,o,s;return y(this,(function(i){switch(i.label){case 0:return[4,jQuery.post(w.ajax_url,{action:"gpgs_get_sheets",_ajax_nonce:w.nonce,spreadsheet_id:n})];case 1:return(r=i.sent()).success?(e({sheets:m(m({},t().sheets),(s={},s[n]=r.data.sheets,s))}),[2]):(e({sheets:m(m({},t().sheets),(o={},o[n]=r.data.message,o))}),[2])}}))}))}}},S=__webpack_require__(567),j=__webpack_require__.n(S);function k(e){var t=e.ms,n=void 0===t?1e3:t,r=e.itemKey,o=e.handleItem,s=setInterval((function(){var e=localStorage.getItem(r);e&&(clearInterval(s),o(e))}),n)}function E(e){var t=e.oAuthServiceUrl,n=e.inputs,r=e.id,o=void 0===r?"gpgs_oauth_form":r;j()('<form\n\t\t\tid="'.concat(o,'"\n\t\t\taction="').concat(t,'"\n\t\t\tmethod="POST"\n\t\t\ttarget="tab"\n\t\t>\n\t\t\t').concat(n.map((function(e){var t=e[0],n=e[1].replace(/"/g,"&quot;");return'<input type="hidden" name="'.concat(t,'" value="').concat(n,'">')})),"\n\t\t</form>")).appendTo("body").submit()}var A=window.gpgs_settings_strings;A||(A=window.gpgs_settings_plugin_strings);var I,N=function(e,t){return{googleAccounts:void 0,fetchGoogleAccounts:function(){return t=void 0,n=void 0,o=function(){var t;return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,jQuery.get(A.ajax_url,{action:"gpgs_get_google_accounts",_ajax_nonce:A.nonce})];case 1:return(t=n.sent()).success?(e({googleAccounts:t.data.google_accounts}),[3,3]):(e({googleAccounts:[]}),[2]);case 2:return n.sent().status>=400&&e({googleAccounts:[]}),[3,3];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o},addGoogleAccount:function(){return new Promise((function(e,n){!function(e){var t=e.strings,n=e.showErrorMessage,r=e.onDataFound,o=e.actionHandlerName,s="".concat(t.gwiz_oauth_service_url,"/oauth/google"),i=Math.random().toString(36).substring(2,15),a={oauth_random_string:i,oauth_validation_token:t.oauth_validation_token,user_id:t.user_id};E({oAuthServiceUrl:s,inputs:[["licenseId",t.gravity_perks_license_id],["licenseHash",t.gravity_perks_license_hash],["redirectUrl","".concat(t.ajax_url,"?action=").concat(o)],["perkId",t.slug],["siteUrl",t.site_url],["state",JSON.stringify(a)]]});var c="".concat("gpgs_google_oauth_data","_").concat(i);k({itemKey:c,handleItem:function(e){localStorage.removeItem(c);var t=JSON.parse(e);"0"!==t.success&&t.token?r(t):n(t.message)}})}({showErrorMessage:function(e){t().setErrorNotice(e),n(new Error(e))},strings:A,onDataFound:function(n){var r=n.token;r?(t().setSuccessNotice((0,o.__)("Successfully added new Google Account!","gp-google-sheets")),e(r)):t().setErrorNotice((0,o.__)("Failed to get token. Please try again.","gp-google-sheets"))},actionHandlerName:"gpgs_plugin_settings_oauth_callback"})}))}}},O=window.gpgs_settings_strings,T=function(e,t){return{isInsertingTestRow:!1,insertTestRow:function(){var n,r,s,i,a,c;return s=this,i=void 0,c=function(){var s,i;return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(a){switch(a.label){case 0:if(t().isInsertingTestRow)return[2];t().clearNotices(),e({isInsertingTestRow:!0}),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,jQuery.post(O.ajax_url,{action:"gpgs_insert_test_row",_ajax_nonce:O.nonce,form_id:O.form_id,feed_id:O.feed_id})];case 2:return(s=a.sent()).success?(t().setSuccessNotice((0,o.__)("Successfully inserted a test row.","gp-google-sheets")),[3,5]):(t().setErrorNotice(null!==(r=null===(n=s.data)||void 0===n?void 0:n.message)&&void 0!==r?r:(0,o.__)("An unknown error occurred while inserting a test row.","gp-google-sheets")),[2]);case 3:return(i=a.sent()).status>=400?(t().setErrorNotice((0,o.sprintf)((0,o.__)("An error occurred while adding a test row. Please try again. If the problem persists, please contact support. Error: %s","gp-google-sheets"),i.statusText)),[2]):(t().setErrorNotice((0,o.__)("An unknown error occurred while scanning for issues. Please try again. If the problem persists, please contact support.","gp-google-sheets")),[3,5]);case 4:return e({isInsertingTestRow:!1}),[7];case 5:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((c=c.apply(s,i||[])).next())}))}}},M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},M.apply(this,arguments)},P=function(e){var t=e;t.use={};for(var n=function(e){t.use[e]=function(){return t((function(t){return t[e]}))}},r=0,o=Object.keys(t.getState());r<o.length;r++)n(o[r]);return t}((I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return M(M(M(M(M({},f.apply(void 0,e)),v.apply(void 0,e)),N.apply(void 0,e)),x.apply(void 0,e)),T.apply(void 0,e))})?d(I):d);const q=function(){var t=P.use.isInsertingTestRow(),n=P.use.insertTestRow();return(0,e.jsxs)("button",{id:"insert_test_row",className:"button add-new-h2",onClick:function(e){e.preventDefault(),n()},disabled:t,style:{top:0},children:[(0,o.__)("Insert Test Row","gp-google-sheets"),t&&(0,e.jsx)("span",{className:"spinner spinner_insert_test_row is-active"})]})},C=function(){var t=P.use.isDisconnecting(),n=P.use.disconnectFeed();return(0,e.jsxs)("button",{id:"disconnect",className:"button add-new-h2",style:{top:0},onClick:function(e){e.preventDefault(),n()},disabled:t,children:[(0,o.__)("Disconnect","gp-google-sheets"),t&&(0,e.jsx)("span",{className:"spinner spinner_insert_test_row is-active"})]})},D=function(){var t=P.use.googleSheetUrl(),r=P.use.googleSpreadsheetName(),o=P.use.googleSheetName(),s=P.use.googleErrorMessage(),i=r;o&&(i="".concat(i," (").concat(o,")"));var a=s&&(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:s}}),(0,e.jsx)("br",{})]}),c=(0,e.jsx)("span",{children:(0,e.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:i})});return s?(0,e.jsxs)("p",{className:"alert error",children:[a,c,(0,e.jsx)("span",{style:{alignSelf:"self-end",marginLeft:"auto !important",verticalAlign:"middle"},children:(0,e.jsx)(C,{})})]}):(0,e.jsxs)("div",{className:"alert gforms_note_success",style:{display:"flex",alignItems:"center",marginBottom:0},children:[c,(0,e.jsxs)("span",{style:{alignSelf:"self-end",marginLeft:"auto",verticalAlign:"middle",display:"flex",gap:"1rem"},children:[(0,e.jsx)(q,{}),(0,e.jsx)(C,{})]})]})},R=window.ReactDOM,U=function(t){var n=t.notices,o=document.getElementById("gf-admin-notices-wrapper");if(!o)return null;var s=function(t){var n=t.notice;return(0,e.jsx)("div",{className:"notice notice-".concat(n.type," gf-notice"),children:(0,e.jsx)("p",{children:n.message})})},i=(0,e.jsx)(r().Fragment,{children:n.map((function(t,n){return(0,e.jsx)(s,{notice:t},n)}))});return(0,R.createPortal)(i,o)};var F=__webpack_require__(833);var G=window.gpgs_settings_strings;const L=function(){var t=P.use.setGoogleSpreadsheetId(),n=P.use.googleSpreadsheetId(),r=P.use.setErrorNotice(),s=P.use.googleAccount(),a=P((function(e){var t,n;if(e.googleAccount)return null===(n=null===(t=e.googleAccounts)||void 0===t?void 0:t.find((function(t){return t.googleEmail===e.googleAccount})))||void 0===n?void 0:n.token})),c=P((function(e){var t;if(e.googleAccount)return null===(t=e.spreadsheets)||void 0===t?void 0:t[e.googleAccount]})),u=P.use.refetchSpreadsheets();return"string"==typeof c?(0,e.jsx)("p",{className:"notice notice-error",children:(0,o.__)("An error occurred while fetching your spreadsheets. Please try again.","gp-google-sheets")}):(0,e.jsx)(i,{name:"google_spreadsheet_id",label:"Spreadsheet",value:null!=n?n:"",onChange:function(e){t(e),"select"===e&&function(e){var t=e.token,n=e.showErrorMessage,r=e.onDataFound,s=e.strings,i=Math.random().toString(36).substring(2,15),a={oauth_random_string:i,oauth_validation_token:s.oauth_validation_token,user_id:s.user_id};E({oAuthServiceUrl:"".concat(s.gwiz_oauth_service_url,"/google/file-picker"),inputs:[["postUrl","".concat(s.ajax_url,"?action=gpgs_picker_callback")],["accessToken",t.access_token],["state",JSON.stringify(a)]],id:"gpgs-google-sheet-picker"});var c="".concat("gpgs_google_picker_data","_").concat(i);k({itemKey:c,handleItem:function(e){localStorage.removeItem(c);var t=JSON.parse(e);"0"!==t.success&&t.sheet_url?r(t):n(t.message||(0,o.__)("Error picking spreadsheet.","gp-google-sheets"))}})}({token:a,showErrorMessage:r,onDataFound:function(e){var n,r,o,i,a=e.sheet_url;return n=void 0,r=void 0,i=function(){return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){switch(e.label){case 0:return a?[4,u(s)]:[2];case 1:return e.sent(),t((n=a.split("/")).length>=6?n[5]:null),[2]}var n}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{c(i.next(e))}catch(e){t(e)}}function a(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}c((i=i.apply(n,r||[])).next())}))},strings:G})},tooltip:(0,o.__)("Select the spreadsheet you would like to store Gravity Forms entries in."),placeholder:void 0===c?(0,o.__)("Loading…","gp-google-sheets"):"",disabled:void 0===c,options:[{text:(0,o.__)("Actions","gp-google-sheets"),options:[{text:(0,o.__)("Add New Spreadsheet","gp-google-sheets"),value:"add"},{text:(0,o.__)("Connect Existing Spreadsheet","gp-google-sheets"),value:"select"}]},{text:(0,o.__)("Connected Spreadsheets","gp-google-sheets"),options:"object"==typeof c?c.map((function(e){return{text:e.name,value:e.id}})):[]}]})};const B=function(){var t,r=P.use.googleAccount(),s=P((function(e){var t;return null===(t=e.googleAccounts)||void 0===t?void 0:t.filter((function(e){return!e.isLegacyToken}))})),a=P.use.fetchGoogleAccounts(),c=P.use.setGoogleAccount(),u=P.use.addGoogleAccount();return(0,n.useEffect)((function(){a()}),[a]),(0,e.jsx)(i,{name:"google_sheet_account",label:"Account",value:null!=r?r:"",onChange:function(e){return t=void 0,n=void 0,o=function(){var t,n,r;return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:return"add"!==e?[3,3]:[4,u()];case 1:return t=o.sent(),[4,a()];case 2:return o.sent(),n=P.getState().googleAccounts,(r=null==n?void 0:n.find((function(e){return e.token.access_token===t.access_token})))&&c(r.googleEmail),[2];case 3:return c(e),[2]}}))},new((r=void 0)||(r=Promise))((function(e,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o},tooltip:(0,o.__)("The Google account to create a new sheet under or to select an existing sheet from."),disabled:void 0===s,placeholder:void 0===s?(0,o.__)("Loading…","gp-google-sheets"):(0,o.__)("Select an Account","gp-google-sheets"),options:[{text:(0,o.__)("Actions","gp-google-sheets"),options:[{text:(0,o.__)("Authorize New Account","gp-google-sheets"),value:"add"}]},{text:(0,o.__)("Authorized Accounts","gp-google-sheets"),options:null!==(t=null==s?void 0:s.map((function(e){return{text:e.googleEmail,value:e.googleEmail}})))&&void 0!==t?t:[]}]})};const K=function(){var t=P.use.googleAccount(),r=P.use.notices(),s=P.use.setErrorNotice(),a=P.use.googleSheetUrl(),c=P.use.googleSpreadsheetId(),u=P.use.googleSheetId(),l=P.use.setGoogleSheetId(),d=P.use.connected(),g=P.use.googleErrorMessage(),f=P((function(e){var t;if(e.googleSpreadsheetId)return null===(t=e.sheets)||void 0===t?void 0:t[e.googleSpreadsheetId]}));return(0,n.useEffect)((function(){if(void 0!==c&&"add"!==c||!t)if(c){if((0,F.fh)(),"select"===c||""===u||void 0===u||"string"==typeof f||!a)return;e=void 0,n=void 0,o=function(){var e,t;return function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,F.$_)("from_current_feed_mappings",{sheetId:u,sheetName:null===(t=null==f?void 0:f.find((function(e){return e.id===u})))||void 0===t?void 0:t.title,sheetUrl:a})];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),s(e.message||"Failed to get column mappings."),[3,3];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((o=o.apply(e,n||[])).next())}))}else a&&!g||(0,F.fh)();else(0,F.p0)();var e,n,r,o}),[a,c,u,t,f,g,s]),(0,n.useEffect)((function(){var e=document.querySelector("input#google_sheet_url"),t=document.querySelector("input#google_sheet_id");e.value=null!=a?a:"",t.value=null!=u?u:""}),[a,u]),d?(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(U,{notices:r}),(0,e.jsx)(D,{})]}):(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(U,{notices:r}),(0,e.jsx)(B,{}),t&&(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(L,{}),c&&"select"!==c&&"add"!==c&&(0,e.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",style:{marginBottom:10,display:"inline-block"},children:(0,o.__)("View Spreadsheet","gp-google-sheets")}),c&&"select"!==c&&"add"!==c&&(0,e.jsx)(i,{name:"google_sheet_id_selector",label:"Sheet",value:null!=u?u:"",onChange:l,tooltip:(0,o.__)("Select the specific sheet in the spreadsheet you would like to store Gravity Forms entries in."),disabled:void 0===f,placeholder:void 0===f?(0,o.__)("Loading…","gp-google-sheets"):(0,o.__)("Select a Sheet","gp-google-sheets"),options:"object"==typeof f?f.map((function(e){return{text:e.title,value:e.id}})):[]})]})]})};var W=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function H(t){var n=t.title,r=t.description,o=t.buttonText,s=t.handleUpdateColumnMappingSection;return(0,e.jsxs)("div",{className:"alert gforms_note_warning",role:"alert",style:{display:"flex"},children:[(0,e.jsxs)("p",{style:{flex:2},children:[(0,e.jsx)("b",{children:n}),(0,e.jsx)("br",{}),r]}),(0,e.jsx)("button",{className:"button secondary",onClick:function(e){e.preventDefault(),(0,F.fh)(),s()},children:o})]})}const V=function(){var t=this,n=P.use.googleSheetId(),r=P.use.setErrorNotice(),o=P((function(e){var t;if(e.googleSpreadsheetId)return null===(t=e.sheets)||void 0===t?void 0:t[e.googleSpreadsheetId]})),s=P.use.googleSheetUrl();return void 0!==n&&s&&Array.isArray(o)&&o.length>0?(0,e.jsx)(H,{title:"Existing spreadsheet?",description:"Use this option to automatically map each column to the nearest matching field.",buttonText:"Map All Columns",handleUpdateColumnMappingSection:function(){return W(t,void 0,void 0,(function(){var e,t;return z(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,F.$_)("from_sheet_columns",{sheetId:n,sheetName:null===(t=null==o?void 0:o.find((function(e){return e.id===n})))||void 0===t?void 0:t.title,sheetUrl:s})];case 1:return i.sent(),[3,3];case 2:return e=i.sent(),r(e.message||"Failed to get column mappings."),[3,3];case 3:return[2]}}))}))}}):(0,e.jsx)(H,{title:"New spreadsheet?",description:"Use this option to create a column for each field and automatically map it.",buttonText:"Map All Fields",handleUpdateColumnMappingSection:function(){return W(t,void 0,void 0,(function(){var e;return z(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,F.$_)("from_form_fields")];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),r(e.message||"Failed to get column mappings."),[3,3];case 3:return[2]}}))}))}})},Q=window.wp.hooks;var $;$=document.querySelector("#gform-settings-section-google-sheets-settings .gform-settings-panel__content"),"function"==typeof t.createRoot?(0,t.createRoot)($).render((0,e.jsx)(K,{})):(0,t.render)((0,e.jsx)(K,{}),$),function(){if("0"===new URLSearchParams(window.location.search).get("fid")){var n=document.querySelector("#gform-settings-section-column-mapping .gform-settings-panel__content"),r=document.createElement("div");r.id="gform_setting_column_auto_mapping_section_root";var o=document.getElementById("gform_setting_column_mapping");n.insertBefore(r,o);var s=document.getElementById("gform_setting_column_auto_mapping_section_root");"function"==typeof t.createRoot?(0,t.createRoot)(s).render((0,e.jsx)(V,{})):(0,t.render)((0,e.jsx)(V,{}),s)}}(),(0,Q.addFilter)("i18n.gettext","gp-google-sheets/override-generic-map-column-labels",(function(e,t,n){return"Select a Field"===t?(0,o.__)("Select a Column","gp-google-sheets"):"Add Custom Key"===t?(0,o.__)("Add New Column","gp-google-sheets"):e}))})()})();
//# sourceMappingURL=gp-google-sheets-settings-feed.js.map