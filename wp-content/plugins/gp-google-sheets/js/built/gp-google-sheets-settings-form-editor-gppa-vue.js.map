{"version":3,"file":"gp-google-sheets-settings-form-editor-gppa-vue.js","mappings":"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","sources":["webpack:///./js/src/form-editor-gppa-vue.ts"],"sourcesContent":["window.gform.addFilter(\n\t'gppa_primary_property_computed',\n\tfunction (primaryProperty: string, vm: any) {\n\t\tif (vm.objectType !== 'gpgs_sheet') {\n\t\t\treturn primaryProperty;\n\t\t}\n\n\t\t// Split the primary property and ensure we have both the spreadsheet and sheet.\n\t\tconst primaryPropertySplit = primaryProperty.split('|');\n\n\t\tif (primaryPropertySplit.length !== 2) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn primaryProperty;\n\t}\n);\n\nwindow.gform.addFilter(\n\t'gppa_primary_property_component',\n\tfunction (extras: any, vm: any, Vue: any) {\n\t\tif (vm.objectType !== 'gpgs_sheet') {\n\t\t\treturn extras;\n\t\t}\n\n\t\treturn Vue.extend({\n\t\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tsheets: [],\n\t\t\t\t};\n\t\t\t},\n\t\t\tcreated() {\n\t\t\t\tif (this.spreadsheet) {\n\t\t\t\t\tthis.getSheets();\n\t\t\t\t}\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\tgetSheets() {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tthis.sheets = [];\n\n\t\t\t\t\tjQuery\n\t\t\t\t\t\t.post(\n\t\t\t\t\t\t\twindow.ajaxurl,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taction: 'gpgs_gppa_get_sheets',\n\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\tspreadsheet_id: this.spreadsheet,\n\t\t\t\t\t\t\t\tsecurity: window.GPPA_ADMIN.nonce,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'json'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\tthis.sheets = data;\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\tcomputed: {\n\t\t\t\tprimaryPropertySplit() {\n\t\t\t\t\tconst primaryProperty = vm.primaryProperty;\n\n\t\t\t\t\tif (primaryProperty) {\n\t\t\t\t\t\treturn primaryProperty.split('|');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [undefined, undefined];\n\t\t\t\t},\n\t\t\t\tspreadsheet() {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn this.primaryPropertySplit[0];\n\t\t\t\t},\n\t\t\t\tsheet() {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn this.primaryPropertySplit[1];\n\t\t\t\t},\n\t\t\t},\n\t\t\trender(h: any) {\n\t\t\t\tconst elements = [\n\t\t\t\t\th(\n\t\t\t\t\t\t'label',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclass: 'section_label gppa-primary-property-label',\n\t\t\t\t\t\t\tstyle: 'margin-top: 15px;',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'Spreadsheet'\n\t\t\t\t\t), // i18n\n\t\t\t\t];\n\n\t\t\t\tconst { sheets } = this;\n\n\t\t\t\tif (\n\t\t\t\t\t!('primary-property' in vm.propertyValues) ||\n\t\t\t\t\t!Array.isArray(vm.propertyValues['primary-property'])\n\t\t\t\t) {\n\t\t\t\t\telements.push(\n\t\t\t\t\t\th(\n\t\t\t\t\t\t\t'select',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'loading',\n\t\t\t\t\t\t\t\tclass: 'gppa-primary-property',\n\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tvm.i18nStrings.loadingEllipsis\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\telements.push(\n\t\t\t\t\t\th(\n\t\t\t\t\t\t\t'select',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclass: 'gppa-primary-property',\n\t\t\t\t\t\t\t\tdomProps: {\n\t\t\t\t\t\t\t\t\tvalue: this.spreadsheet,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\t\t\tchange: (event: any) => {\n\t\t\t\t\t\t\t\t\t\tconst value = event.target.value;\n\t\t\t\t\t\t\t\t\t\tvm.primaryProperty = value;\n\t\t\t\t\t\t\t\t\t\tvm.changePrimaryProperty(value);\n\n\t\t\t\t\t\t\t\t\t\tthis.getSheets();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tvm.i18nStrings.selectAnItem.replace(\n\t\t\t\t\t\t\t\t\t\t/%s/g,\n\t\t\t\t\t\t\t\t\t\tvm.objectTypeInstance[\n\t\t\t\t\t\t\t\t\t\t\t'primary-property'\n\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tvm.propertyValues['primary-property'].map(\n\t\t\t\t\t\t\t\t\t(option) => {\n\t\t\t\t\t\t\t\t\t\treturn h(\n\t\t\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdomProps: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: option.value,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvm.truncateStringMiddle(\n\t\t\t\t\t\t\t\t\t\t\t\toption.label\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (this.spreadsheet) {\n\t\t\t\t\telements.push(\n\t\t\t\t\t\th(\n\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclass: 'section_label gppa-primary-property-label',\n\t\t\t\t\t\t\t\tstyle: 'margin-top: 15px;',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'Sheet'\n\t\t\t\t\t\t)\n\t\t\t\t\t); // i18n\n\n\t\t\t\t\tif (sheets.length) {\n\t\t\t\t\t\telements.push(\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t'select',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclass: 'gppa-primary-property',\n\t\t\t\t\t\t\t\t\tdomProps: {\n\t\t\t\t\t\t\t\t\t\tvalue: this.sheet,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\t\t\t\tchange: (event: any) => {\n\t\t\t\t\t\t\t\t\t\t\tconst value =\n\t\t\t\t\t\t\t\t\t\t\t\tthis.spreadsheet +\n\t\t\t\t\t\t\t\t\t\t\t\t'|' +\n\t\t\t\t\t\t\t\t\t\t\t\tevent.target.value;\n\n\t\t\t\t\t\t\t\t\t\t\tvm.primaryProperty = value;\n\t\t\t\t\t\t\t\t\t\t\tvm.changePrimaryProperty(value);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t'Select a Sheet'\n\t\t\t\t\t\t\t\t\t), // i18n\n\t\t\t\t\t\t\t\t\tthis.sheets.map((option: any) => {\n\t\t\t\t\t\t\t\t\t\treturn h(\n\t\t\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdomProps: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: option.value,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvm.truncateStringMiddle(\n\t\t\t\t\t\t\t\t\t\t\t\toption.label\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telements.push(\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t'select',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: 'loading',\n\t\t\t\t\t\t\t\t\tclass: 'gppa-primary-property',\n\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tvm.i18nStrings.selectAnItem.replace(\n\t\t\t\t\t\t\t\t\t\t\t/%s/g,\n\t\t\t\t\t\t\t\t\t\t\t'Sheet'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\t\t\t'option',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t\t\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tvm.i18nStrings.loadingEllipsis\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn h('div', {}, elements);\n\t\t\t},\n\t\t});\n\t}\n);\n"],"names":["window","gform","addFilter","primaryProperty","vm","objectType","split","length","extras","Vue","extend","data","sheets","created","this","spreadsheet","getSheets","methods","jQuery","post","ajaxurl","action","spreadsheet_id","security","GPPA_ADMIN","nonce","done","computed","primaryPropertySplit","undefined","sheet","render","h","elements","class","style","propertyValues","Array","isArray","push","domProps","value","on","change","event","target","changePrimaryProperty","attrs","hidden","disabled","selected","i18nStrings","selectAnItem","replace","objectTypeInstance","label","map","option","truncateStringMiddle","key","loadingEllipsis"],"sourceRoot":""}