(()=>{"use strict";window.gform.addFilter("gppa_primary_property_computed",(function(e,t){return"gpgs_sheet"!==t.objectType?e:2!==e.split("|").length?null:e})),window.gform.addFilter("gppa_primary_property_component",(function(e,t,r){return"gpgs_sheet"!==t.objectType?e:r.extend({data:function(){return{sheets:[]}},created:function(){this.spreadsheet&&this.getSheets()},methods:{getSheets:function(){var e=this;this.sheets=[],jQuery.post(window.ajaxurl,{action:"gpgs_gppa_get_sheets",spreadsheet_id:this.spreadsheet,security:window.GPPA_ADMIN.nonce},null,"json").done((function(t){e.sheets=t}))}},computed:{primaryPropertySplit:function(){var e=t.primaryProperty;return e?e.split("|"):[void 0,void 0]},spreadsheet:function(){return this.primaryPropertySplit[0]},sheet:function(){return this.primaryPropertySplit[1]}},render:function(e){var r=this,p=[e("label",{class:"section_label gppa-primary-property-label",style:"margin-top: 15px;"},"Spreadsheet")],s=this.sheets;return"primary-property"in t.propertyValues&&Array.isArray(t.propertyValues["primary-property"])?p.push(e("select",{class:"gppa-primary-property",domProps:{value:this.spreadsheet},on:{change:function(e){var p=e.target.value;t.primaryProperty=p,t.changePrimaryProperty(p),r.getSheets()}}},[e("option",{attrs:{value:"",hidden:!0,disabled:!0,selected:!0}},t.i18nStrings.selectAnItem.replace(/%s/g,t.objectTypeInstance["primary-property"].label)),t.propertyValues["primary-property"].map((function(r){return e("option",{domProps:{value:r.value}},t.truncateStringMiddle(r.label))}))])):p.push(e("select",{key:"loading",class:"gppa-primary-property",attrs:{disabled:!0}},[e("option",{attrs:{value:"",disabled:!0,selected:!0}},t.i18nStrings.loadingEllipsis)])),this.spreadsheet&&(p.push(e("label",{class:"section_label gppa-primary-property-label",style:"margin-top: 15px;"},"Sheet")),s.length?p.push(e("select",{class:"gppa-primary-property",domProps:{value:this.sheet},on:{change:function(e){var p=r.spreadsheet+"|"+e.target.value;t.primaryProperty=p,t.changePrimaryProperty(p)}}},[e("option",{attrs:{value:"",hidden:!0,disabled:!0,selected:!0}},"Select a Sheet"),this.sheets.map((function(r){return e("option",{domProps:{value:r.value}},t.truncateStringMiddle(r.label))}))])):p.push(e("select",{key:"loading",class:"gppa-primary-property",attrs:{disabled:!0}},[e("option",{attrs:{value:"",hidden:!0,disabled:!0,selected:!0}},t.i18nStrings.selectAnItem.replace(/%s/g,"Sheet")),e("option",{attrs:{value:"",disabled:!0,selected:!0}},t.i18nStrings.loadingEllipsis)]))),e("div",{},p)}})}))})();
//# sourceMappingURL=gp-google-sheets-settings-form-editor-gppa-vue.js.map